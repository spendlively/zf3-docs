<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <link rel="shortcut icon" href="../img/favicon.ico">

    <title>Service Mapping Description (SMD) - zend-json-server</title>

    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href="//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Libre+Baskerville:400,400italic,700&subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/zf-web.css" rel="stylesheet">
    <link href="../css/zf.css" rel="stylesheet">
    <link href="../css/prism-zf.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <span class="navbar-brand">
              <a class="logo-link" href="http://framework.zend.com" data-toggle="tooltip" data-placement="bottom" title="Zend Framework"><img src="../img/zf-logo-mark.svg" height="28" alt="Zend Framework" /></a>
              <a href="..">zend-json-server</a>
            </span>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../intro/">Intro</a>
                    </li>
                
                
                
                    <li >
                        <a href="../usage/">Basic Usage</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../server/">Zend\Json\Server\Server</a>
</li>

                        
                            
<li >
    <a href="../request/">Zend\Json\Server\Request</a>
</li>

                        
                            
<li >
    <a href="../response/">Zend\Json\Server\Response</a>
</li>

                        
                            
<li >
    <a href="../error/">Zend\Json\Server\Error</a>
</li>

                        
                            
<li class="active">
    <a href="./">Service Mapping Description (SMD)</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" class="component-toggle" data-toggle="tooltip" data-placement="bottom" title="Show component list">
                        <i class="fa fa-book"></i> Components
                    </a>
                </li>

                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li>
                        <a href="https://github.com/zendframework/zend-json-server">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <!-- content:begin -->
    <div id="page-top" class="container docs">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#smd-service-mapping-description">SMD: Service Mapping Description</a></li>
        
    
    </ul>

    
    <ul class="pager hidden-print">
      <li class="previous">
        <a rel="prev" href="../error/"><i class="fa fa-arrow-left"></i> Previous</a>
      </li>
      <li class="next disabled ">
        <a rel="next" >Next <i class="fa fa-arrow-right"></i></a>
      </li>
    </ul>
    
</div></div>
        <div class="col-md-9" role="main">

<ol class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation">
  <li><a href="..">zend-json-server</a> &raquo;</li>
  
    
      
        <li>Reference &raquo;</li>
      
    
  
  <li class="active">Service Mapping Description (SMD)</li>
</ol>

<h1 id="smd-service-mapping-description">SMD: Service Mapping Description</h1>
<p>SMD stands for Service Mapping Description, a JSON schema that defines how a
client can interact with a particular web service. At the time of this writing,
the <a href="http://www.jsonrpc.org/specification">specification</a> has not yet been
formally ratified, but it is in use already within Dojo Toolkit as well as
other JSON-RPC consumer clients.</p>
<p>At its most basic, a Service Mapping Description indicates the method of
transport (<code>POST</code>, <code>GET</code>, TCP/IP, etc), the request envelope type (usually
based on the protocol of the server), the target URL of the service provider,
and a map of services available. In the case of JSON-RPC, the service map is a
list of available methods, which each method documenting the available
parameters and their types, as well as the expected return value type.</p>
<p><code>Zend\Json\Server\Smd</code> provides an object-oriented way to build service maps.
At its most basic, you pass it metadata describing the service using mutators,
and specify services (methods and functions).</p>
<p>The service descriptions themselves are typically instances of
<code>Zend\Json\Server\Smd\Service</code>; you can also pass all information as an array
to the various service mutators in <code>Zend\Json\Server\Smd</code>, and it will
instantiate a service for you. The service objects contain information such as
the name of the service (typically the function or method name), the parameters
(names, types, and position), and the return value type. Optionally, each
service can have its own target and envelope, though this functionality is
rarely used.</p>
<p><code>Zend\Json\Server\Server</code> actually does all of this behind the scenes for you,
by using reflection on the attached classes and functions; you should create
your own service maps only if you need to provide custom functionality that
class and function introspection cannot offer.</p>
<p>Methods available in <code>Zend\Json\Server\Smd</code> include:</p>
<ul>
<li><code>setOptions(array $options)</code>: Setup an SMD object from an array of options.
  All mutators (methods beginning with 'set') can be used as keys.</li>
<li><code>setTransport($transport)</code>: Set the transport used to access the service;
  only POST is currently supported.</li>
<li><code>getTransport()</code>: Get the current service transport.</li>
<li><code>setEnvelope($envelopeType)</code>: Set the request envelope that should be used to
  access the service.  Currently, supports the constants
  <code>Zend\Json\Server\Smd::ENV_JSONRPC_1</code> and
  <code>Zend\Json\Server\Smd::ENV_JSONRPC_2</code>.</li>
<li><code>getEnvelope()</code>: Get the current request envelope.</li>
<li><code>setContentType($type)</code>: Set the content type requests should use (by
  default, this is 'application/json').</li>
<li><code>getContentType()</code>: Get the current content type for requests to the service.</li>
<li><code>setTarget($target)</code>: Set the URL endpoint for the service.</li>
<li><code>getTarget()</code>: Get the URL endpoint for the service.</li>
<li><code>setId($id)</code>: Typically, this is the URL endpoint of the service (same as the
  target).</li>
<li><code>getId()</code>: Retrieve the service ID (typically the URL endpoint of the
  service).</li>
<li><code>setDescription($description)</code>: Set a service description (typically
  narrative information describing the purpose of the service).</li>
<li><code>getDescription()</code>: Get the service description.</li>
<li><code>setDojoCompatible($flag)</code>: Set a flag indicating whether or not the SMD is
  compatible with Dojo toolkit. When <code>TRUE</code>, the generated JSON SMD will be
  formatted to comply with the format that Dojo's JSON-RPC client expects.</li>
<li><code>isDojoCompatible()</code>: Returns the value of the Dojo compatibility flag
  (<code>FALSE</code>, by default).</li>
<li><code>addService($service)</code>: Add a service to the map. May be an array of
  information to pass to the constructor of <code>Zend\Json\Server\Smd\Service</code>, or
  an instance of that class.</li>
<li><code>addServices(array $services)</code>: Add multiple services at once.</li>
<li><code>setServices(array $services)</code>: Add multiple services at once, overwriting
  any previously set services.</li>
<li><code>getService($name)</code>: Get a service by its name.</li>
<li><code>getServices()</code>: Get all attached services.</li>
<li><code>removeService($name)</code>: Remove a service from the map.</li>
<li><code>toArray()</code>: Cast the service map to an array.</li>
<li><code>toDojoArray()</code>: Cast the service map to an array compatible with Dojo
  Toolkit.</li>
<li><code>toJson()</code>: Cast the service map to a JSON representation.</li>
</ul>
<p><code>Zend\Json\Server\Smd\Service</code> has the following methods:</p>
<ul>
<li><code>setOptions(array $options)</code>: Set object state from an array. Any mutator
  (methods beginning with 'set') may be used as a key and set via this method.</li>
<li><code>setName($name)</code>: Set the service name (typically, the function or method
  name).</li>
<li><code>getName()</code>: Retrieve the service name.</li>
<li><code>setTransport($transport)</code>: Set the service transport (currently, only
  transports supported by <code>Zend\Json\Server\Smd</code> are allowed).</li>
<li><code>getTransport()</code>: Retrieve the current transport.</li>
<li><code>setTarget($target)</code>: Set the URL endpoint of the service (typically, this
  will be the same as the overall SMD to which the service is attached).</li>
<li><code>getTarget()</code>: Get the URL endpoint of the service.</li>
<li><code>setEnvelope($envelopeType)</code>: Set the service envelope (currently, only
  envelopes supported by <code>Zend\Json\Server\Smd</code> are allowed).</li>
<li><code>getEnvelope()</code>: Retrieve the service envelope type.
  <code>addParam($type, array $options = array(), $order = null)</code>: Add a parameter
  to the service. By default, only the parameter type is necessary. However,
  you may also specify the order, as well as options such as:<ul>
<li><strong>name</strong>: the parameter name</li>
<li><strong>optional</strong>: whether or not the parameter is optional</li>
<li><strong>default</strong>: a default value for the parameter</li>
<li><strong>description</strong>: text describing the parameter</li>
</ul>
</li>
<li><code>addParams(array $params)</code>: Add several parameters at once; each param should
  be an assoc array containing minimally the key 'type' describing the
  parameter type, and optionally the key 'order'; any other keys will be passed
  as <code>$options</code> to <code>addOption()</code>.</li>
<li><code>setParams(array $params)</code>: Set many parameters at once, overwriting any
  existing parameters.</li>
<li><code>getParams()</code>: Retrieve all currently set parameters.</li>
<li><code>setReturn($type)</code>: Set the return value type of the service.</li>
<li><code>getReturn()</code>: Get the return value type of the service.</li>
<li><code>toArray()</code>: Cast the service to an array.</li>
<li><code>toJson()</code>: Cast the service to a JSON representation.</li>
</ul>

<hr />


<nav>
  <ul class="pager hidden-print">
    <li class="previous">
      <a rel="prev" href="../error/"><i class="fa fa-arrow-left"></i> Previous</a>
    </li>
    <li class="next disabled ">
      <a rel="next" >Next <i class="fa fa-arrow-right"></i></a>
    </li>
  </ul>
</nav>
</div>
        
    </div>
    <!-- content:end -->

    <div id="footerwrap">
    <div class="container">
        <div class="row site-map">
            <div class="col-lg-3">
              <p>
                <strong>Zend Framework</strong><br />
                <a href="http://framework.zend.com/">framework.zend.com</a><br />
                <a href="https://docs.zendframework.com">docs.zendframework.com</a><br />
                <a href="https://packages.zendframework.com">packages.zendframework.com</a><br />
                <a href="https://apigility.org">apigility.org</a><br />
              </p>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12 centered">
                <a class="back-to-top" href="#page-top"><i class="fa fa-chevron-circle-up fa-4" aria-hidden="true"></i></a>
            </div>
        </div>

        <div class="spacing"></div>

        <div class="row">
            <div class="col-lg-8">
                <h4>Copyright</h4>
                <div class="hline-w"></div>

                <p>&copy; 2006-2016 by <a href="http://www.zend.com">Zend</a>, a <a href="http://www.roguewave.com/">Rogue Wave Company</a>.</p>
            </div>

            <div class="col-lg-4">
                <h4>Contacts</h4>
                <div class="hline-w"></div>
                <p>
                    <a href="irc://irc.freenode.net/zftalk" class="btn-social btn-outline" alt="IRC" title="IRC"><i class="fa fa-comment"></i></a>
                    <a href="https://github.com/zendframework" class="btn-social btn-outline" alt="Github" title="Github"><i class="fa fa-github"></i></a>
                    <a href="https://twitter.com/zfdevteam" class="btn-social btn-outline" alt="Twitter" title="Twitter"><i class="fa fa-twitter"></i></a>
                </p>
            </div>
        </div>
    </div>
</div>


    <script src="../js/jquery-1.10.2.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>
    <script src="../js/prism-zf.js"></script>

    <script>var base_url = '..';</script>
    <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
    <script src="../js/base.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    <div class="zf-components">
  <div class="zf-components-grid">
    <div class="zf-logo">
      <a href="http://framework.zend.com" data-toggle="tooltip" data-placement="bottom" title="Go to the ZF homepage"><img src="../img/zf-logo-mark.svg" alt="Zend Framework" width="250" /></a>
    </div>

    <div class="component-list"></div>

    <p class="zf-components-rollup"><a href="#">Hide list</a></p>
  </div>
</div>

    <script>
  // Prepare the component list dropdown for display
  $(function () {
    var components = $(".zf-components"),
        componentList = components.find(".component-list"),
        sidebar = $(".bs-sidebar.affix"),
        sidebarInitialPos = sidebar.css("position"),
        hidden,
        componentToggle = $(".component-toggle"),
        navbar = $(".navbar-fixed-top"),
        rollUpLink = $(".zf-components-rollup a");

    // Initial setup on document load
    components.insertBefore(navbar);
    $(".zf-logo a").tooltip();
    componentToggle.tooltip();
    rollUpLink.attr({ href: "#", alt: "Hide component list" });

    // Cast initial sidebar position value
    if (undefined === sidebarInitialPos) {
      sidebarInitialPos = "fixed";
    }

    // Setup onclick events to toggle list
    componentToggle.click(toggleComponentList);
    rollUpLink.click(toggleComponentList);

    // Toggle the component list display
    function toggleComponentList(event) {
      event.preventDefault();

      if (hidden === undefined) {
        // Not loaded yet; load and display.
        loadComponentList();
        return;
      }

      if (hidden) {
        // Hidden; display.
        showComponentList();
        return;
      }

      // Currently visible; hide
      hideComponentList();
    }

    // Show the component list
    function showComponentList() {
      navbar.css({position: "relative"});
      sidebar.css({position: "relative"});
      components
        .css({"margin-top": "-" + components.outerHeight() + "px"})
        .show()
        .animate({"margin-top": 0}, {
          complete: function () {
            componentToggle
              .data("placement", "top")
              .attr("data-original-title", "Hide component list");
            hidden = false;
          },
          queue: false
        });
    }

    // Hide the component list
    function hideComponentList() {
      components.animate({"margin-top": "-" + components.outerHeight() + "px"}, {
        complete: function () {
          navbar.css({position: "fixed"});
          sidebar.css({position: sidebarInitialPos});
          componentToggle
            .data("placement", "bottom")
            .attr("data-original-title", "Show component list");
          components.hide();
          hidden = true;
        },
        queue: false
      });
      sidebar.animate({ top: sidebarInitialTop + "px" }, { queue: false});
    }

    // Inject a component into the componet list DOM.
    function injectComponent(index, component) {
      componentList.append('<div class="component"><h4><a href="' + component.url + '">' + component.name + '</a></h4><p>' + component.description + '</p></div>');
    }

    // Parse the component list, build the DOM, and display it.
    function parseComponentList(components) {
      $.each(components, injectComponent);
      showComponentList();
    }

    // Fetch the component list and display it.
    function loadComponentList () {
      $.ajax({
        url: "//docs.zendframework.com/zf-mkdoc-theme/scripts/zf-component-list.json",
        dataType: "text json",
        success: parseComponentList,
        error: function (e) {
          console.log("Error occurred with XHR call", e);
        }
      });
    }
  });
</script>
    </body>

</html>
