<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <link rel="shortcut icon" href="../img/favicon.ico">

    <title>SQL Abstraction - zend-db</title>

    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href="//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Libre+Baskerville:400,400italic,700&subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/zf-web.css" rel="stylesheet">
    <link href="../css/zf.css" rel="stylesheet">
    <link href="../css/prism-zf.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <span class="navbar-brand">
              <a class="logo-link" href="http://framework.zend.com" data-toggle="tooltip" data-placement="bottom" title="Zend Framework"><img src="../img/zf-logo-mark.svg" height="28" alt="Zend Framework" /></a>
              <a href="..">zend-db</a>
            </span>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Home</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../adapter/">Adapters</a>
</li>

                        
                            
<li >
    <a href="../result-set/">Result Sets</a>
</li>

                        
                            
<li class="active">
    <a href="./">SQL Abstraction</a>
</li>

                        
                            
<li >
    <a href="../sql-ddl/">DDL Abstraction</a>
</li>

                        
                            
<li >
    <a href="../table-gateway/">Table Gateways</a>
</li>

                        
                            
<li >
    <a href="../row-gateway/">Row Gateways</a>
</li>

                        
                            
<li >
    <a href="../metadata/">RDBMS Metadata</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" class="component-toggle" data-toggle="tooltip" data-placement="bottom" title="Show component list">
                        <i class="fa fa-book"></i> Components
                    </a>
                </li>

                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li>
                        <a href="https://github.com/zendframework/zend-db">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <!-- content:begin -->
    <div id="page-top" class="container docs">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#sql-abstraction">SQL Abstraction</a></li>
        
            <li><a href="#quick-start">Quick start</a></li>
        
            <li><a href="#common-interfaces-for-sql-implementations">Common interfaces for SQL implementations</a></li>
        
            <li><a href="#select">Select</a></li>
        
            <li><a href="#insert">Insert</a></li>
        
            <li><a href="#update">Update</a></li>
        
            <li><a href="#delete">Delete</a></li>
        
            <li><a href="#where-and-having">Where and Having</a></li>
        
    
    </ul>

    
    <ul class="pager hidden-print">
      <li class="previous">
        <a rel="prev" href="../result-set/"><i class="fa fa-arrow-left"></i> Previous</a>
      </li>
      <li class="next">
        <a rel="next" href="../sql-ddl/">Next <i class="fa fa-arrow-right"></i></a>
      </li>
    </ul>
    
</div></div>
        <div class="col-md-9" role="main">

<ol class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation">
  <li><a href="..">zend-db</a> &raquo;</li>
  
    
      
        <li>Reference &raquo;</li>
      
    
  
  <li class="active">SQL Abstraction</li>
</ol>

<h1 id="sql-abstraction">SQL Abstraction</h1>
<p><code>Zend\Db\Sql</code> is a SQL abstraction layer for building platform-specific SQL
queries via an object-oriented API. The end result of a <code>Zend\Db\Sql</code> object
will be to either produce a <code>Statement</code> and <code>ParameterContainer</code> that
represents the target query, or a full string that can be directly executed
against the database platform. To achieve this, <code>Zend\Db\Sql</code> objects require a
<code>Zend\Db\Adapter\Adapter</code> object in order to produce the desired results.</p>
<h2 id="quick-start">Quick start</h2>
<p>There are four primary tasks associated with interacting with a database
defined by Data Manipulation Language (DML): selecting, inserting, updating,
and deleting. As such, there are four primary classes that developers can
interact with in order to build queries in the <code>Zend\Db\Sql</code> namespace:
<code>Select</code>, <code>Insert</code>, <code>Update</code>, and <code>Delete</code>.</p>
<p>Since these four tasks are so closely related and generally used together
within the same application, the <code>Zend\Db\Sql\Sql</code> class helps you create them
and produce the result you are attempting to achieve.</p>
<pre class="codehilite"><code class="language-php linenums">use Zend\Db\Sql\Sql;

$sql    = new Sql($adapter);
$select = $sql-&gt;select(); // returns a Zend\Db\Sql\Select instance
$insert = $sql-&gt;insert(); // returns a Zend\Db\Sql\Insert instance
$update = $sql-&gt;update(); // returns a Zend\Db\Sql\Update instance
$delete = $sql-&gt;delete(); // returns a Zend\Db\Sql\Delete instance</code></pre>

<p>As a developer, you can now interact with these objects, as described in the
sections below, to customize each query. Once they have been populated with
values, they are ready to either be prepared or executed.</p>
<p>To prepare (using a Select object):</p>
<pre class="codehilite"><code class="language-php linenums">use Zend\Db\Sql\Sql;

$sql    = new Sql($adapter);
$select = $sql-&gt;select();
$select-&gt;from('foo');
$select-&gt;where(['id' =&gt; 2]);

$statement = $sql-&gt;prepareStatementForSqlObject($select);
$results = $statement-&gt;execute();</code></pre>

<p>To execute (using a Select object)</p>
<pre class="codehilite"><code class="language-php linenums">use Zend\Db\Sql\Sql;

$sql    = new Sql($adapter);
$select = $sql-&gt;select();
$select-&gt;from('foo');
$select-&gt;where(['id' =&gt; 2]);

$selectString = $sql-&gt;buildSqlString($select);
$results = $adapter-&gt;query($selectString, $adapter::QUERY_MODE_EXECUTE);</code></pre>

<p><code>Zend\\Db\\Sql\\Sql</code> objects can also be bound to a particular table so that in
obtaining a <code>Select</code>, <code>Insert</code>, <code>Update</code>, or <code>Delete</code> instance, the object will be
seeded with the table:</p>
<pre class="codehilite"><code class="language-php linenums">use Zend\Db\Sql\Sql;

$sql    = new Sql($adapter, 'foo');
$select = $sql-&gt;select();
$select-&gt;where(['id' =&gt; 2]); // $select already has from('foo') applied</code></pre>

<h2 id="common-interfaces-for-sql-implementations">Common interfaces for SQL implementations</h2>
<p>Each of these objects implements the following two interfaces:</p>
<pre class="codehilite"><code class="language-php linenums">interface PreparableSqlInterface
{
     public function prepareStatement(Adapter $adapter, StatementInterface $statement) : void;
}

interface SqlInterface
{
     public function getSqlString(PlatformInterface $adapterPlatform = null) : string;
}</code></pre>

<p>Use these functions to produce either (a) a prepared statement, or (b) a string
to execute.</p>
<h2 id="select">Select</h2>
<p><code>Zend\Db\Sql\Select</code> presents a unified API for building platform-specific SQL
SELECT queries. Instances may be created and consumed without
<code>Zend\Db\Sql\Sql</code>:</p>
<pre class="codehilite"><code class="language-php linenums">use Zend\Db\Sql\Select;

$select = new Select();
// or, to produce a $select bound to a specific table
$select = new Select('foo');</code></pre>

<p>If a table is provided to the <code>Select</code> object, then <code>from()</code> cannot be called
later to change the name of the table.</p>
<p>Once you have a valid <code>Select</code> object, the following API can be used to further
specify various select statement parts:</p>
<pre class="codehilite"><code class="language-php linenums">class Select extends AbstractSql implements SqlInterface, PreparableSqlInterface
{
    const JOIN_INNER = 'inner';
    const JOIN_OUTER = 'outer';
    const JOIN_LEFT = 'left';
    const JOIN_RIGHT = 'right';
    const SQL_STAR = '*';
    const ORDER_ASCENDING = 'ASC';
    const ORDER_DESCENDING = 'DESC';

    public $where; // @param Where $where

    public function __construct(string|array|TableIdentifier $table = null);
    public function from(string|array|TableIdentifier $table) : self;
    public function columns(array $columns, bool $prefixColumnsWithTable = true) : self;
    public function join(string|array $name, string $on, string|array $columns = self::SQL_STAR, string $type = self::JOIN_INNER) : self;
    public function where(Where|callable|string|array|PredicateInterface $predicate, string $combination = Predicate\PredicateSet::OP_AND) : self;
    public function group(string|array $group);
    public function having(Having|callable|string|array $predicate, string $combination = Predicate\PredicateSet::OP_AND) : self;
    public function order(string|array $order) : self;
    public function limit(int $limit) : self;
    public function offset(int $offset) : self;
}</code></pre>

<h3 id="from">from()</h3>
<pre class="codehilite"><code class="language-php linenums">// As a string:
$select-&gt;from('foo');

// As an array to specify an alias
// (produces SELECT &quot;t&quot;.* FROM &quot;table&quot; AS &quot;t&quot;)
$select-&gt;from(['t' =&gt; 'table']);

// Using a Sql\TableIdentifier:
// (same output as above)
$select-&gt;from(['t' =&gt; new TableIdentifier('table')]);</code></pre>

<h3 id="columns">columns()</h3>
<pre class="codehilite"><code class="language-php linenums">// As an array of names
$select-&gt;columns(['foo', 'bar']);

// As an associative array with aliases as the keys
// (produces 'bar' AS 'foo', 'bax' AS 'baz')
$select-&gt;columns(['foo' =&gt; 'bar', 'baz' =&gt; 'bax']);</code></pre>

<h3 id="join">join()</h3>
<pre class="codehilite"><code class="language-php linenums">$select-&gt;join(
    'foo',              // table name
    'id = bar.id',      // expression to join on (will be quoted by platform object before insertion),
    ['bar', 'baz'],     // (optional) list of columns, same requirements as columns() above
    $select::JOIN_OUTER // (optional), one of inner, outer, left, right also represented by constants in the API
);

$select
    -&gt;from(['f' =&gt; 'foo'])     // base table
    -&gt;join(
        ['b' =&gt; 'bar'],        // join table with alias
        'f.foo_id = b.foo_id'  // join expression
    );</code></pre>

<h3 id="where-having">where(), having()</h3>
<p><code>Zend\Db\Sql\Select</code> provides bit of flexibility as it regards to what kind of
parameters are acceptable when calling <code>where()</code> or <code>having()</code>. The method
signature is listed as:</p>
<pre class="codehilite"><code class="language-php linenums">/**
 * Create where clause
 *
 * @param  Where|callable|string|array $predicate
 * @param  string $combination One of the OP_* constants from Predicate\PredicateSet
 * @return Select
 */
public function where($predicate, $combination = Predicate\PredicateSet::OP_AND);</code></pre>

<p>If you provide a <code>Zend\Db\Sql\Where</code> instance to <code>where()</code> or a
<code>Zend\Db\Sql\Having</code> instance to <code>having()</code>, any previous internal instances
will be replaced completely. When either instance is processed, this object will
be iterated to produce the WHERE or HAVING section of the SELECT statement.</p>
<p>If you provide a PHP callable to <code>where()</code> or <code>having()</code>, this function will be
called with the <code>Select</code>'s <code>Where</code>/<code>Having</code> instance as the only parameter.
This enables code like the following:</p>
<pre class="codehilite"><code class="language-php linenums">$select-&gt;where(function (Where $where) {
    $where-&gt;like('username', 'ralph%');
});</code></pre>

<p>If you provide a <em>string</em>, this string will be used to create a
<code>Zend\Db\Sql\Predicate\Expression</code> instance, and its contents will be applied
as-is, with no quoting:</p>
<pre class="codehilite"><code class="language-php linenums">// SELECT &quot;foo&quot;.* FROM &quot;foo&quot; WHERE x = 5
$select-&gt;from('foo')-&gt;where('x = 5');</code></pre>

<p>If you provide an array with integer indices, the value can be one of:</p>
<ul>
<li>a string; this will be used to build a <code>Predicate\Expression</code>.</li>
<li>any object implementing <code>Predicate\PredicateInterface</code>.</li>
</ul>
<p>In either case, the instances are pushed onto the <code>Where</code> stack with the
<code>$combination</code> provided (defaulting to <code>AND</code>).</p>
<p>As an example:</p>
<pre class="codehilite"><code class="language-php linenums">// SELECT &quot;foo&quot;.* FROM &quot;foo&quot; WHERE x = 5 AND y = z
$select-&gt;from('foo')-&gt;where(['x = 5', 'y = z']);</code></pre>

<p>If you provide an associative array with string keys, any value with a string
key will be cast as follows:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>PHP value</th>
<th>Predicate type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>null</code></td>
<td><code>Predicate\IsNull</code></td>
</tr>
<tr>
<td><code>array</code></td>
<td><code>Predicate\In</code></td>
</tr>
<tr>
<td><code>string</code></td>
<td><code>Predicate\Operator</code>, where the key is the identifier.</td>
</tr>
</tbody>
</table></div>
<p>As an example:</p>
<pre class="codehilite"><code class="language-php linenums">// SELECT &quot;foo&quot;.* FROM &quot;foo&quot; WHERE &quot;c1&quot; IS NULL AND &quot;c2&quot; IN (?, ?, ?) AND &quot;c3&quot; IS NOT NULL
$select-&gt;from('foo')-&gt;where([
    'c1' =&gt; null,
    'c2' =&gt; [1, 2, 3],
    new \Zend\Db\Sql\Predicate\IsNotNull('c3'),
]);</code></pre>

<p>As another example of complex queries with nested conditions e.g.</p>
<pre class="codehilite"><code class="language-sql linenums">SELECT * WHERE (column1 is null or column1 = 2) AND (column2 = 3)</code></pre>

<p>you need to use the <code>nest()</code> and <code>unnest()</code> methods, as follows:</p>
<pre class="codehilite"><code class="language-php linenums">$select-&gt;where-&gt;nest() // bracket opened
    -&gt;isNull('column1')
    -&gt;or
    -&gt;equalTo('column1', '2')
    -&gt;unnest();  // bracket closed
    -&gt;equalTo('column2', '3');</code></pre>

<h3 id="order">order()</h3>
<pre class="codehilite"><code class="language-php linenums">$select = new Select;
$select-&gt;order('id DESC'); // produces 'id' DESC

$select = new Select;
$select
    -&gt;order('id DESC')
    -&gt;order('name ASC, age DESC'); // produces 'id' DESC, 'name' ASC, 'age' DESC

$select = new Select;
$select-&gt;order(['name ASC', 'age DESC']); // produces 'name' ASC, 'age' DESC</code></pre>

<h3 id="limit-and-offset">limit() and offset()</h3>
<pre class="codehilite"><code class="language-php linenums">$select = new Select;
$select-&gt;limit(5);   // always takes an integer/numeric
$select-&gt;offset(10); // similarly takes an integer/numeric</code></pre>

<h2 id="insert">Insert</h2>
<p>The Insert API:</p>
<pre class="codehilite"><code class="language-php linenums">class Insert implements SqlInterface, PreparableSqlInterface
{
    const VALUES_MERGE = 'merge';
    const VALUES_SET   = 'set';

    public function __construct(string|TableIdentifier $table = null);
    public function into(string|TableIdentifier $table) : self;
    public function columns(array $columns) : self;
    public function values(array $values, string $flag = self::VALUES_SET) : self;
}</code></pre>

<p>As with <code>Select</code>, the table may be provided during instantiation or via the
<code>into()</code> method.</p>
<h3 id="columns_1">columns()</h3>
<pre class="codehilite"><code class="language-php linenums">$insert-&gt;columns(['foo', 'bar']); // set the valid columns</code></pre>

<h3 id="values">values()</h3>
<pre class="codehilite"><code class="language-php linenums">// The default behavior of values is to set the values;
// successive calls will not preserve values from previous calls.
$insert-&gt;values([
    'col_1' =&gt; 'value1',
    'col_2' =&gt; 'value2',
]);</code></pre>

<pre class="codehilite"><code class="language-php linenums">// To merge values with previous calls, provide the appropriate flag:
$insert-&gt;values(['col_2' =&gt; 'value2'], $insert::VALUES_MERGE);</code></pre>

<h2 id="update">Update</h2>
<pre class="codehilite"><code class="language-php linenums">class Update
{
    const VALUES_MERGE = 'merge';
    const VALUES_SET   = 'set';

    public $where; // @param Where $where
    public function __construct(string|TableIdentifier $table = null);
    public function table(string|TableIdentifier $table) : self;
    public function set(array $values, string $flag = self::VALUES_SET) : self;
    public function where(Where|callable|string|array|PredicateInterface $predicate, string $combination = Predicate\PredicateSet::OP_AND) : self;
}</code></pre>

<h3 id="set">set()</h3>
<pre class="codehilite"><code class="language-php linenums">$update-&gt;set(['foo' =&gt; 'bar', 'baz' =&gt; 'bax']);</code></pre>

<h3 id="where">where()</h3>
<p>See the <a href="#where-and-having">section on Where and Having</a>.</p>
<h2 id="delete">Delete</h2>
<pre class="codehilite"><code class="language-php linenums">class Delete
{
    public $where; // @param Where $where

    public function __construct(string|TableIdentifier $table = null);
    public function from(string|TableIdentifier $table);
    public function where(Where|callable|string|array|PredicateInterface $predicate, string $combination = Predicate\PredicateSet::OP_AND) : self;
}</code></pre>

<h3 id="where_1">where()</h3>
<p>See the <a href="#where-and-having">section on Where and Having</a>.</p>
<h2 id="where-and-having">Where and Having</h2>
<p>In the following, we will talk about <code>Where</code>; note, however, that <code>Having</code>
utilizes the same API.</p>
<p>Effectively, <code>Where</code> and <code>Having</code> extend from the same base object, a
<code>Predicate</code> (and <code>PredicateSet</code>). All of the parts that make up a WHERE or
HAVING clause that are AND'ed or OR'd together are called <em>predicates</em>.  The
full set of predicates is called a <code>PredicateSet</code>. A <code>Predicate</code> generally
contains the values (and identifiers) separate from the fragment they belong to
until the last possible moment when the statement is either prepared
(parameteritized) or executed. In parameterization, the parameters will be
replaced with their proper placeholder (a named or positional parameter), and
the values stored inside an <code>Adapter\ParameterContainer</code>. When executed, the
values will be interpolated into the fragments they belong to and properly
quoted.</p>
<p>In the <code>Where</code>/<code>Having</code> API, a distinction is made between what elements are
considered identifiers (<code>TYPE_IDENTIFIER</code>) and which are values (<code>TYPE_VALUE</code>).
There is also a special use case type for literal values (<code>TYPE_LITERAL</code>). All
element types are expressed via the <code>Zend\Db\Sql\ExpressionInterface</code>
interface.</p>
<blockquote>
<h3 id="literals">Literals</h3>
<p>In ZF 2.1, an actual <code>Literal</code> type was added. <code>Zend\Db\Sql</code> now makes the
distinction that literals will not have any parameters that need
interpolating, while <code>Expression</code> objects <em>might</em> have parameters that need
interpolating. In cases where there are parameters in an <code>Expression</code>,
<code>Zend\Db\Sql\AbstractSql</code> will do its best to identify placeholders when the
<code>Expression</code> is processed during statement creation. In short, if you don't
have parameters, use <code>Literal</code> objects.</p>
</blockquote>
<p>The <code>Where</code> and <code>Having</code> API is that of <code>Predicate</code> and <code>PredicateSet</code>:</p>
<pre class="codehilite"><code class="language-php linenums">// Where &amp; Having extend Predicate:
class Predicate extends PredicateSet
{
    public $and;
    public $or;
    public $AND;
    public $OR;
    public $NEST;
    public $UNNEST;

    public function nest() : Predicate;
    public function setUnnest(Predicate $predicate) : void;
    public function unnest() : Predicate;
    public function equalTo(
        int|float|bool|string $left,
        int|float|bool|string $right,
        string $leftType = self::TYPE_IDENTIFIER,
        string $rightType = self::TYPE_VALUE
    ) : self;
    public function notEqualTo(
        int|float|bool|string $left,
        int|float|bool|string $right,
        string $leftType = self::TYPE_IDENTIFIER,
        string $rightType = self::TYPE_VALUE
    ) : self;
    public function lessThan(
        int|float|bool|string $left,
        int|float|bool|string $right,
        string $leftType = self::TYPE_IDENTIFIER,
        string $rightType = self::TYPE_VALUE
    ) : self;
    public function greaterThan(
        int|float|bool|string $left,
        int|float|bool|string $right,
        string $leftType = self::TYPE_IDENTIFIER,
        string $rightType = self::TYPE_VALUE
    ) : self;
    public function lessThanOrEqualTo(
        int|float|bool|string $left,
        int|float|bool|string $right,
        string $leftType = self::TYPE_IDENTIFIER,
        string $rightType = self::TYPE_VALUE
    ) : self;
    public function greaterThanOrEqualTo(
        int|float|bool|string $left,
        int|float|bool|string $right,
        string $leftType = self::TYPE_IDENTIFIER,
        string $rightType = self::TYPE_VALUE
    ) : self;
    public function like(string $identifier, string $like) : self;
    public function notLike(string $identifier, string $notLike) : self;
    public function literal(string $literal) : self;
    public function expression(string $expression, array $parameters = null) : self;
    public function isNull(string $identifier) : self;
    public function isNotNull(string $identifier) : self;
    public function in(string $identifier, array $valueSet = []) : self;
    public function notIn(string $identifier, array $valueSet = []) : self;
    public function between(
        string $identifier,
        int|float|string $minValue,
        int|float|string $maxValue
    ) : self;
    public function notBetween(
        string $identifier,
        int|float|string $minValue,
        int|float|string $maxValue
    ) : self;
    public function predicate(PredicateInterface $predicate) : self;

    // Inherited From PredicateSet

    public function addPredicate(PredicateInterface $predicate, $combination = null) : self;
    public function getPredicates() PredicateInterface[];
    public function orPredicate(PredicateInterface $predicate) : self;
    public function andPredicate(PredicateInterface $predicate) : self;
    public function getExpressionData() : array;
    public function count() : int;
}</code></pre>

<p>Each method in the API will produce a corresponding <code>Predicate</code> object of a similarly named
type, as described below.</p>
<h3 id="equalto-lessthan-greaterthan-lessthanorequalto-greaterthanorequalto">equalTo(), lessThan(), greaterThan(), lessThanOrEqualTo(), greaterThanOrEqualTo()</h3>
<pre class="codehilite"><code class="language-php linenums">$where-&gt;equalTo('id', 5);

// The above is equivalent to:
$where-&gt;addPredicate(
    new Predicate\Operator($left, Operator::OPERATOR_EQUAL_TO, $right, $leftType, $rightType)
);</code></pre>

<p>Operators use the following API:</p>
<pre class="codehilite"><code class="language-php linenums">class Operator implements PredicateInterface
{
    const OPERATOR_EQUAL_TO                  = '=';
    const OP_EQ                              = '=';
    const OPERATOR_NOT_EQUAL_TO              = '!=';
    const OP_NE                              = '!=';
    const OPERATOR_LESS_THAN                 = '&lt;';
    const OP_LT                              = '&lt;';
    const OPERATOR_LESS_THAN_OR_EQUAL_TO     = '&lt;=';
    const OP_LTE                             = '&lt;=';
    const OPERATOR_GREATER_THAN              = '&gt;';
    const OP_GT                              = '&gt;';
    const OPERATOR_GREATER_THAN_OR_EQUAL_TO  = '&gt;=';
    const OP_GTE                             = '&gt;=';

    public function __construct(
        int|float|bool|string $left = null,
        string $operator = self::OPERATOR_EQUAL_TO,
        int|float|bool|string $right = null,
        string $leftType = self::TYPE_IDENTIFIER,
        string $rightType = self::TYPE_VALUE
    );
    public function setLeft(int|float|bool|string $left);
    public function getLeft() : int|float|bool|string;
    public function setLeftType(string $type) : self;
    public function getLeftType() : string;
    public function setOperator(string $operator);
    public function getOperator() : string;
    public function setRight(int|float|bool|string $value) : self;
    public function getRight() : int|float|bool|string;
    public function setRightType(string $type) : self;
    public function getRightType() : string;
    public function getExpressionData() : array;
}</code></pre>

<h3 id="likeidentifier-like-notlikeidentifier-notlike">like($identifier, $like), notLike($identifier, $notLike)</h3>
<pre class="codehilite"><code class="language-php linenums">$where-&gt;like($identifier, $like):

// The above is equivalent to:
$where-&gt;addPredicate(
    new Predicate\Like($identifier, $like)
);</code></pre>

<p>The following is the <code>Like</code> API:</p>
<pre class="codehilite"><code class="language-php linenums">class Like implements PredicateInterface
{
    public function __construct(string $identifier = null, string $like = null);
    public function setIdentifier(string $identifier) : self;
    public function getIdentifier() : string;
    public function setLike(string $like) : self;
    public function getLike() : string;
}</code></pre>

<h3 id="literalliteral">literal($literal)</h3>
<pre class="codehilite"><code class="language-php linenums">$where-&gt;literal($literal);

// The above is equivalent to:
$where-&gt;addPredicate(
    new Predicate\Literal($literal)
);</code></pre>

<p>The following is the <code>Literal</code> API:</p>
<pre class="codehilite"><code class="language-php linenums">class Literal implements ExpressionInterface, PredicateInterface
{
    const PLACEHOLDER = '?';
    public function __construct(string $literal = '');
    public function setLiteral(string $literal) : self;
    public function getLiteral() : string;
}</code></pre>

<h3 id="expressionexpression-parameter">expression($expression, $parameter)</h3>
<pre class="codehilite"><code class="language-php linenums">$where-&gt;expression($expression, $parameter);

// The above is equivalent to:
$where-&gt;addPredicate(
    new Predicate\Expression($expression, $parameter)
);</code></pre>

<p>The following is the <code>Expression</code> API:</p>
<pre class="codehilite"><code class="language-php linenums">class Expression implements ExpressionInterface, PredicateInterface
{
    const PLACEHOLDER = '?';

    public function __construct(
        string $expression = null,
        int|float|bool|string|array $valueParameter = null
        /* [, $valueParameter, ...  ] */
    );
    public function setExpression(string $expression) : self;
    public function getExpression() : string;
    public function setParameters(int|float|bool|string|array $parameters) : self;
    public function getParameters() : array;
}</code></pre>

<h3 id="isnullidentifier">isNull($identifier)</h3>
<pre class="codehilite"><code class="language-php linenums">$where-&gt;isNull($identifier);

// The above is equivalent to:
$where-&gt;addPredicate(
    new Predicate\IsNull($identifier)
);</code></pre>

<p>The following is the <code>IsNull</code> API:</p>
<pre class="codehilite"><code class="language-php linenums">class IsNull implements PredicateInterface
{
    public function __construct(string $identifier = null);
    public function setIdentifier(string $identifier) : self;
    public function getIdentifier() : string;
}</code></pre>

<h3 id="isnotnullidentifier">isNotNull($identifier)</h3>
<pre class="codehilite"><code class="language-php linenums">$where-&gt;isNotNull($identifier);

// The above is equivalent to:
$where-&gt;addPredicate(
    new Predicate\IsNotNull($identifier)
);</code></pre>

<p>The following is the <code>IsNotNull</code> API:</p>
<pre class="codehilite"><code class="language-php linenums">class IsNotNull implements PredicateInterface
{
    public function __construct(string $identifier = null);
    public function setIdentifier(string $identifier) : self;
    public function getIdentifier() : string;
}</code></pre>

<h3 id="inidentifier-valueset-notinidentifier-valueset">in($identifier, $valueSet), notIn($identifier, $valueSet)</h3>
<pre class="codehilite"><code class="language-php linenums">$where-&gt;in($identifier, $valueSet);

// The above is equivalent to:
$where-&gt;addPredicate(
    new Predicate\In($identifier, $valueSet)
);</code></pre>

<p>The following is the <code>In</code> API:</p>
<pre class="codehilite"><code class="language-php linenums">class In implements PredicateInterface
{
    public function __construct(
        string|array $identifier = null,
        array|Select $valueSet = null
    );
    public function setIdentifier(string|array $identifier) : self;
    public function getIdentifier() : string|array;
    public function setValueSet(array|Select $valueSet) : self;
    public function getValueSet() : array|Select;
}</code></pre>

<h3 id="betweenidentifier-minvalue-maxvalue-notbetweenidentifier-minvalue-maxvalue">between($identifier, $minValue, $maxValue), notBetween($identifier, $minValue, $maxValue)</h3>
<pre class="codehilite"><code class="language-php linenums">$where-&gt;between($identifier, $minValue, $maxValue);

// The above is equivalent to:
$where-&gt;addPredicate(
    new Predicate\Between($identifier, $minValue, $maxValue)
);</code></pre>

<p>The following is the <code>Between</code> API:</p>
<pre class="codehilite"><code class="language-php linenums">class Between implements PredicateInterface
{
    public function __construct(
        string $identifier = null,
        int|float|string $minValue = null,
        int|float|string $maxValue = null
    );
    public function setIdentifier(string $identifier) : self;
    public function getIdentifier() : string;
    public function setMinValue(int|float|string $minValue) : self;
    public function getMinValue() : int|float|string;
    public function setMaxValue(int|float|string $maxValue) : self;
    public function getMaxValue() : int|float|string;
    public function setSpecification(string $specification);
}</code></pre>

<hr />


<nav>
  <ul class="pager hidden-print">
    <li class="previous">
      <a rel="prev" href="../result-set/"><i class="fa fa-arrow-left"></i> Previous</a>
    </li>
    <li class="next">
      <a rel="next" href="../sql-ddl/">Next <i class="fa fa-arrow-right"></i></a>
    </li>
  </ul>
</nav>
</div>
        
    </div>
    <!-- content:end -->

    <div id="footerwrap">
    <div class="container">
        <div class="row site-map">
            <div class="col-lg-3">
              <p>
                <strong>Zend Framework</strong><br />
                <a href="http://framework.zend.com/">framework.zend.com</a><br />
                <a href="https://docs.zendframework.com">docs.zendframework.com</a><br />
                <a href="https://packages.zendframework.com">packages.zendframework.com</a><br />
                <a href="https://apigility.org">apigility.org</a><br />
              </p>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12 centered">
                <a class="back-to-top" href="#page-top"><i class="fa fa-chevron-circle-up fa-4" aria-hidden="true"></i></a>
            </div>
        </div>

        <div class="spacing"></div>

        <div class="row">
            <div class="col-lg-8">
                <h4>Copyright</h4>
                <div class="hline-w"></div>

                <p>&copy; 2006-2016 by <a href="http://www.zend.com">Zend</a>, a <a href="http://www.roguewave.com/">Rogue Wave Company</a>.</p>
            </div>

            <div class="col-lg-4">
                <h4>Contacts</h4>
                <div class="hline-w"></div>
                <p>
                    <a href="irc://irc.freenode.net/zftalk" class="btn-social btn-outline" alt="IRC" title="IRC"><i class="fa fa-comment"></i></a>
                    <a href="https://github.com/zendframework" class="btn-social btn-outline" alt="Github" title="Github"><i class="fa fa-github"></i></a>
                    <a href="https://twitter.com/zfdevteam" class="btn-social btn-outline" alt="Twitter" title="Twitter"><i class="fa fa-twitter"></i></a>
                </p>
            </div>
        </div>
    </div>
</div>


    <script src="../js/jquery-1.10.2.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>
    <script src="../js/prism-zf.js"></script>

    <script>var base_url = '..';</script>
    <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
    <script src="../js/base.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    <div class="zf-components">
  <div class="zf-components-grid">
    <div class="zf-logo">
      <a href="http://framework.zend.com" data-toggle="tooltip" data-placement="bottom" title="Go to the ZF homepage"><img src="../img/zf-logo-mark.svg" alt="Zend Framework" width="250" /></a>
    </div>

    <div class="component-list"></div>

    <p class="zf-components-rollup"><a href="#">Hide list</a></p>
  </div>
</div>

    <script>
  // Prepare the component list dropdown for display
  $(function () {
    var components = $(".zf-components"),
        componentList = components.find(".component-list"),
        sidebar = $(".bs-sidebar.affix"),
        sidebarInitialPos = sidebar.css("position"),
        hidden,
        componentToggle = $(".component-toggle"),
        navbar = $(".navbar-fixed-top"),
        rollUpLink = $(".zf-components-rollup a");

    // Initial setup on document load
    components.insertBefore(navbar);
    $(".zf-logo a").tooltip();
    componentToggle.tooltip();
    rollUpLink.attr({ href: "#", alt: "Hide component list" });

    // Cast initial sidebar position value
    if (undefined === sidebarInitialPos) {
      sidebarInitialPos = "fixed";
    }

    // Setup onclick events to toggle list
    componentToggle.click(toggleComponentList);
    rollUpLink.click(toggleComponentList);

    // Toggle the component list display
    function toggleComponentList(event) {
      event.preventDefault();

      if (hidden === undefined) {
        // Not loaded yet; load and display.
        loadComponentList();
        return;
      }

      if (hidden) {
        // Hidden; display.
        showComponentList();
        return;
      }

      // Currently visible; hide
      hideComponentList();
    }

    // Show the component list
    function showComponentList() {
      navbar.css({position: "relative"});
      sidebar.css({position: "relative"});
      components
        .css({"margin-top": "-" + components.outerHeight() + "px"})
        .show()
        .animate({"margin-top": 0}, {
          complete: function () {
            componentToggle
              .data("placement", "top")
              .attr("data-original-title", "Hide component list");
            hidden = false;
          },
          queue: false
        });
    }

    // Hide the component list
    function hideComponentList() {
      components.animate({"margin-top": "-" + components.outerHeight() + "px"}, {
        complete: function () {
          navbar.css({position: "fixed"});
          sidebar.css({position: sidebarInitialPos});
          componentToggle
            .data("placement", "bottom")
            .attr("data-original-title", "Show component list");
          components.hide();
          hidden = true;
        },
        queue: false
      });
      sidebar.animate({ top: sidebarInitialTop + "px" }, { queue: false});
    }

    // Inject a component into the componet list DOM.
    function injectComponent(index, component) {
      componentList.append('<div class="component"><h4><a href="' + component.url + '">' + component.name + '</a></h4><p>' + component.description + '</p></div>');
    }

    // Parse the component list, build the DOM, and display it.
    function parseComponentList(components) {
      $.each(components, injectComponent);
      showComponentList();
    }

    // Fetch the component list and display it.
    function loadComponentList () {
      $.ajax({
        url: "//docs.zendframework.com/zf-mkdoc-theme/scripts/zf-component-list.json",
        dataType: "text json",
        success: parseComponentList,
        error: function (e) {
          console.log("Error occurred with XHR call", e);
        }
      });
    }
  });
</script>
    </body>

</html>
