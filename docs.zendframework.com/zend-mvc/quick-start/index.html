<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <link rel="shortcut icon" href="../img/favicon.ico">

    <title>Quick Start - zend-mvc</title>

    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href="//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Libre+Baskerville:400,400italic,700&subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/zf-web.css" rel="stylesheet">
    <link href="../css/zf.css" rel="stylesheet">
    <link href="../css/prism-zf.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <span class="navbar-brand">
              <a class="logo-link" href="http://framework.zend.com" data-toggle="tooltip" data-placement="bottom" title="Zend Framework"><img src="../img/zf-logo-mark.svg" height="28" alt="Zend Framework" /></a>
              <a href="..">zend-mvc</a>
            </span>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../intro/">Introduction</a>
                    </li>
                
                
                
                    <li class="active">
                        <a href="./">Quick Start</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../services/">Default Services</a>
</li>

                        
                            
<li >
    <a href="../routing/">Routing</a>
</li>

                        
                            
<li >
    <a href="../mvc-event/">The MVC Event</a>
</li>

                        
                            
<li >
    <a href="../send-response-event/">The SendResponse Event</a>
</li>

                        
                            
<li >
    <a href="../controllers/">Available Controllers</a>
</li>

                        
                            
<li >
    <a href="../plugins/">Controller Plugins</a>
</li>

                        
                            
<li >
    <a href="../examples/">Examples</a>
</li>

                        
                            
<li >
    <a href="../middleware/">Dispatching PSR-7 Middleware</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Migration</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../migration/">Migration Overview</a>
</li>

        
            
<li >
    <a href="../migration/to-v2-7/">v2.X to v2.7</a>
</li>

        
            
<li >
    <a href="../migration/to-v3-0/">v2.X to v3.0</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Cookbook <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../cookbook/automating-controller-factories/">Automating controller factories</a>
</li>

                        
                            
<li >
    <a href="../cookbook/middleware-in-listeners/">Using middleware within event listeners</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" class="component-toggle" data-toggle="tooltip" data-placement="bottom" title="Show component list">
                        <i class="fa fa-book"></i> Components
                    </a>
                </li>

                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li>
                        <a href="https://github.com/zendframework/zend-mvc">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <!-- content:begin -->
    <div id="page-top" class="container docs">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#quick-start">Quick Start</a></li>
        
            <li><a href="#install-the-zend-skeleton-application">Install the Zend Skeleton Application</a></li>
        
            <li><a href="#create-a-new-module">Create a New Module</a></li>
        
            <li><a href="#update-the-module-class">Update the Module Class</a></li>
        
            <li><a href="#create-a-controller">Create a Controller</a></li>
        
            <li><a href="#create-a-view-script">Create a View Script</a></li>
        
            <li><a href="#view-scripts-for-module-names-with-subnamespaces">View scripts for module names with subnamespaces</a></li>
        
            <li><a href="#create-a-route">Create a Route</a></li>
        
            <li><a href="#tell-the-application-about-our-module">Tell the Application About our Module</a></li>
        
            <li><a href="#test-it-out">Test it Out!</a></li>
        
    
    </ul>

    
    <ul class="pager hidden-print">
      <li class="previous">
        <a rel="prev" href="../intro/"><i class="fa fa-arrow-left"></i> Previous</a>
      </li>
      <li class="next">
        <a rel="next" href="../services/">Next <i class="fa fa-arrow-right"></i></a>
      </li>
    </ul>
    
</div></div>
        <div class="col-md-9" role="main">

<ol class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation">
  <li><a href="..">zend-mvc</a> &raquo;</li>
  
    
  
  <li class="active">Quick Start</li>
</ol>

<h1 id="quick-start">Quick Start</h1>
<p>Now that you have basic knowledge of applications, modules, and how they are
each structured, we'll show you the easy way to get started.</p>
<h2 id="install-the-zend-skeleton-application">Install the Zend Skeleton Application</h2>
<p>The easiest way to get started is to install the skeleton application via
Composer.</p>
<p>If you have not yet done so, <a href="https://getcomposer.org/doc/00-intro.md#installation-linux-unix-osx">install Composer</a>.</p>
<p>Once you have, use the <code>create-project</code> command to create a new application:</p>
<pre class="codehilite"><code class="language-bash linenums">$ composer create-project -sdev zendframework/skeleton-application my-application</code></pre>

<h2 id="create-a-new-module">Create a New Module</h2>
<p>By default, one module is provided with the <code>ZendSkeletonApplication</code>, named
"Application". It provides a controller to handle the "home" page of the
application, the layout template, and templates for 404 and error pages.</p>
<p>Typically, you will not need to touch this other than to provide an alternate
entry page for your site and/or alternate error page.</p>
<p>Additional functionality will be provided by creating new modules.</p>
<p>To get you started with modules, we recommend using the <code>ZendSkeletonModule</code> as
a base. Download it from here:</p>
<ul>
<li><a href="https://github.com/zendframework/ZendSkeletonModule/zipball/master">ZendSkeletonModule zip package</a></li>
<li><a href="https://github.com/zendframework/ZendSkeletonModule/tarball/master">ZendSkeletonModule tarball</a></li>
</ul>
<p>Deflate the package, and rename the directory "ZendSkeletonModule" to reflect
the name of the new module you want to create; when done, move the module into
your new project's <code>module/</code> directory.</p>
<p>At this point, it's time to create some functionality.</p>
<h2 id="update-the-module-class">Update the Module Class</h2>
<p>Let's update the <code>Module</code> class. We'll want to make sure the namespace is correct,
configuration is enabled and returned, and that we setup autoloading on
initialization. Since we're actively working on this module, the class list will
be in flux; we probably want to be pretty lenient in our autoloading approach,
so let's keep it flexible by using the <code>StandardAutoloader</code>. Let's begin.</p>
<p>First, let's have <code>autoload_classmap.php</code> return an empty array:</p>
<pre class="codehilite"><code class="language-php linenums">&lt;?php
// autoload_classmap.php
return array();</code></pre>

<p>We'll also edit our <code>config/module.config.php</code> file to read as follows:</p>
<pre class="codehilite"><code class="language-php linenums">return array(
    'view_manager' =&gt; array(
        'template_path_stack' =&gt; array(
            '&lt;module-name&gt;' =&gt; __DIR__ . '/../view'
        ),
    ),
);</code></pre>

<p>Fill in <code>module-name</code> with a lowercased, dash-separated version of your module
name; e.g., "ZendUser" would become "zend-user".</p>
<p>Next, edit the namespace declaration of the <code>Module.php</code> file. Replace the
following line:</p>
<pre class="codehilite"><code class="language-php linenums">namespace ZendSkeletonModule;</code></pre>

<p>with the namespace you want to use for your application.</p>
<p>Next, rename the directory <code>src/ZendSkeletonModule</code> to <code>src/&lt;YourModuleName&gt;</code>,
and the directory <code>view/zend-skeleton-module</code> to <code>src/&lt;your-module-name&gt;</code>.</p>
<p>At this point, you now have your module configured properly. Let's create a
controller!</p>
<h2 id="create-a-controller">Create a Controller</h2>
<p>Controllers are objects that implement <code>Zend\Stdlib\DispatchableInterface</code>. This
means they need to implement a <code>dispatch()</code> method that takes minimally a
<code>Request</code> object as an argument.</p>
<p>In practice, though, this would mean writing logic to branch based on matched
routing within every controller. As such, we've created several base controller
classes for you to start with:</p>
<ul>
<li><code>Zend\Mvc\Controller\AbstractActionController</code> allows routes to match an
  "action". When matched, a method named after the action will be called by the
  controller. As an example, if you had a route that returned "foo" for the
  "action" key, the "fooAction" method would be invoked.</li>
<li><code>Zend\Mvc\Controller\AbstractRestfulController</code> introspects the <code>Request</code> to
  determine what HTTP method was used, and calls a method according to that.</li>
<li><code>GET</code> will call either the <code>getList()</code> method, or, if an "id" was matched
    during routing, the <code>get()</code> method (with that identifier value).</li>
<li><code>POST</code> will call the <code>create()</code> method, passing in the <code>$_POST</code> values.</li>
<li><code>PUT</code> expects an "id" to be matched during routing, and will call the
    <code>update()</code> method, passing in the identifier, and any data found in the raw
    post body.</li>
<li><code>DELETE</code> expects an "id" to be matched during routing, and will call the
    <code>delete()</code> method.</li>
<li><code>Zend\Mvc\Controller\AbstractConsoleController</code> extends from
  <code>AbstractActionController</code>, but provides methods for retrieving the
  <code>Zend\Console\Adapter\AdapterInterface</code> instance, and ensuring that execution
  fails in non-console environments.</li>
</ul>
<p>To get started, we'll create a "hello world"-style controller, with a single
action. First, create the file <code>HelloController.php</code> in the directory
<code>src/&lt;module name&gt;/Controller</code>. Edit it in your favorite text editor or IDE,
and insert the following contents:</p>
<pre class="codehilite"><code class="language-php linenums">&lt;?php
namespace &lt;module name&gt;\Controller;

use Zend\Mvc\Controller\AbstractActionController;
use Zend\View\Model\ViewModel;

class HelloController extends AbstractActionController
{
    public function worldAction()
    {
        $message = $this-&gt;params()-&gt;fromQuery('message', 'foo');
        return new ViewModel(['message' =&gt; $message]);
    }
}</code></pre>

<p>So, what are we doing here?</p>
<ul>
<li>We're creating an action controller.</li>
<li>We're defining an action, "world".</li>
<li>We're pulling a message from the query parameters (yes, this is a superbly bad
  idea in production!  Always sanitize your inputs!).</li>
<li>We're returning a <code>ViewModel</code> with an array of values to be processed later.</li>
</ul>
<p>We return a <code>ViewModel</code>. The view layer will use this when rendering the view,
pulling variables and the template name from it. By default, you can omit the
template name, and it will resolve to "lowercase-module-name/lowercase-controller-name/lowercase-action-name".
However, you can override this to specify something different by calling
<code>setTemplate()</code> on the <code>ViewModel</code> instance. Typically, templates will resolve
to files with a ".phtml" suffix in your module's <code>view</code> directory.</p>
<p>So, with that in mind, let's create a view script.</p>
<h2 id="create-a-view-script">Create a View Script</h2>
<p>Create the directory <code>view/&lt;module-name&gt;/hello</code>. Inside that directory, create a
file named <code>world.phtml</code>. Inside that, paste in the following:</p>
<pre class="codehilite"><code class="language-php linenums">&lt;h1&gt;Greetings!&lt;/h1&gt;

&lt;p&gt;You said &quot;&lt;?php echo $this-&gt;escapeHtml($message) ?&gt;&quot;.&lt;/p&gt;</code></pre>

<p>That's it. Save the file.</p>
<blockquote>
<h3 id="escaping-output">Escaping output</h3>
<p>What is the method <code>escapeHtml()</code>? It's actually a <a href="http://framework.zend.com/manual/current/en/modules/zend.view.helpers.html">view helper</a>,
and it's designed to help mitigate XSS attacks. Never trust user input; if you
are at all uncertain about the source of a given variable in your view script,
escape it using one of the provided escape view helpers depending on the type
of data you have.</p>
</blockquote>
<h2 id="view-scripts-for-module-names-with-subnamespaces">View scripts for module names with subnamespaces</h2>
<p>As per PSR-0, modules should be named following the rule: <code>&lt;Vendor Name&gt;\&lt;Namespace&gt;\*</code>.</p>
<p>Since version 3.0, the default template name resolver uses fully qualified
controller class names, stripping only the <code>\Controller\\</code> subnamespace, if
present.  For example, <code>AwesomeMe\MyModule\Controller\HelloWorldController</code>
resolves to the template name <code>awesome-me/my-module/hello-world</code> via the
following configuration:</p>
<pre class="codehilite"><code class="language-php linenums">'view_manager' =&gt; array(
    'controller_map' =&gt; array(
        'AwesomeMe\MyModule' =&gt; true,
    ),
),</code></pre>

<p>(In v2 releases, the default was to strip subnamespaces, but optional mapping rules
allowed whitelisting namespaces in module configuration to enable current
resolver behavior. See the <a href="../migration/to-v3-0/#zendmvcviewinjecttemplatelistener">migration guide</a>
for more details.)</p>
<h2 id="create-a-route">Create a Route</h2>
<p>Now that we have a controller and a view script, we need to create a route to it.</p>
<blockquote>
<h3 id="default-routing">Default routing</h3>
<p><code>ZendSkeletonModule</code> ships with a "default route" that will likely get
you to this action. That route is defined roughly as
<code>/{module}/{controller}/{action}</code>, which means that the path
<code>/zend-user/hello/world</code> will map to <code>ZendUser\Controller\HelloController::worldAction()</code>
(assuming the module name were <code>ZendUser</code>).</p>
<p>We're going to create an explicit route in this example, as
creating explicit routes is a recommended practice. The application will look for a
<code>Zend\Mvc\Router\RouteStackInterface</code> instance to setup routing. The default generated router is a
<code>Zend\Mvc\Router\Http\TreeRouteStack</code>.</p>
<p>To use the "default route" functionality, you will need to edit the shipped
routing definition in the module's <code>config/module.config.php</code>, and replace:</p>
<ul>
<li><code>/module-specific-root</code> with a module-specific root path.</li>
<li><code>ZendSkeletonModule\Controller</code> with <code>&lt;YourModuleName&gt;\Controller</code>.</li>
</ul>
</blockquote>
<p>Additionally, we need to tell the application we have a controller:</p>
<pre class="codehilite"><code class="language-php linenums">// module.config.php
return [
    'controllers' =&gt; [
        'invokables' =&gt; [
            '&lt;module-namespace&gt;\Controller\Index' =&gt; '&lt;module-namespace&gt;\Controller\IndexController',
            // Do similar for each other controller in your module
        ],
    ],
   // ... other configuration ...
];</code></pre>

<blockquote>
<h3 id="controller-services">Controller services</h3>
<p>We inform the application about controllers we expect to have in the
application. This is to prevent somebody requesting any service the
<code>ServiceManager</code> knows about in an attempt to break the application. The
dispatcher uses a special, scoped container that will only pull controllers
that are specifically registered with it, either as invokable classes or via
factories.</p>
</blockquote>
<p>Open your <code>config/module.config.php</code> file, and modify it to add to the "routes"
and "controller" parameters so it reads as follows:</p>
<pre class="codehilite"><code class="language-php linenums">return [
    'router' =&gt; [
        'routes' =&gt; [
            '&lt;module name&gt;-hello-world' =&gt; [
                'type'    =&gt; 'Literal',
                    'options' =&gt; [
                    'route' =&gt; '/hello/world',
                    'defaults' =&gt; [
                        'controller' =&gt; '&lt;module name&gt;\Controller\Hello',
                        'action'     =&gt; 'world',
                    ],
                ],
            ],
        ],
    ],
    'controllers' =&gt; [
        'invokables' =&gt; [
            '&lt;module namespace&gt;\Controller\Hello' =&gt; '&lt;module
namespace&gt;\Controller\HelloController',
        ],
    ],
    // ... other configuration ...
];</code></pre>

<h2 id="tell-the-application-about-our-module">Tell the Application About our Module</h2>
<p>One problem: we haven't told our application about our new module!</p>
<p>By default, modules are not utilized unless we tell the module manager about them.
As such, we need to notify the application about them.</p>
<p>Remember the <code>config/application.config.php</code> file? Let's modify it to add our
new module. Once done, it should read as follows:</p>
<pre class="codehilite"><code class="language-php linenums">&lt;?php
return array(
    'modules' =&gt; array(
        'Application',
        '&lt;module namespace&gt;',
    ),
    'module_listener_options' =&gt; array(
        'module_paths' =&gt; array(
            './module',
            './vendor',
        ),
    ),
);</code></pre>

<p>Replace <code>&lt;module namespace&gt;</code> with the namespace of your module.</p>
<h2 id="test-it-out">Test it Out!</h2>
<p>Now we can test things out! Create a new vhost pointing its document root to the <code>public</code> directory
of your application, and fire it up in a browser. You should see the default homepage template of
ZendSkeletonApplication.</p>
<p>Now alter the location in your URL to append the path "/hello/world", and load the page. You should
now get the following content:</p>
<pre class="codehilite"><code class="language-html linenums">&lt;h1&gt;Greetings!&lt;/h1&gt;

&lt;p&gt;You said &quot;foo&quot;.&lt;/p&gt;</code></pre>

<p>Now alter the location to append "?message=bar" and load the page. You should now get:</p>
<pre class="codehilite"><code class="language-html linenums">&lt;h1&gt;Greetings!&lt;/h1&gt;

&lt;p&gt;You said &quot;bar&quot;.&lt;/p&gt;</code></pre>

<p>Congratulations! You've created your first ZF2 MVC module!</p>

<hr />


<nav>
  <ul class="pager hidden-print">
    <li class="previous">
      <a rel="prev" href="../intro/"><i class="fa fa-arrow-left"></i> Previous</a>
    </li>
    <li class="next">
      <a rel="next" href="../services/">Next <i class="fa fa-arrow-right"></i></a>
    </li>
  </ul>
</nav>
</div>
        
    </div>
    <!-- content:end -->

    <div id="footerwrap">
    <div class="container">
        <div class="row site-map">
            <div class="col-lg-3">
              <p>
                <strong>Zend Framework</strong><br />
                <a href="http://framework.zend.com/">framework.zend.com</a><br />
                <a href="https://docs.zendframework.com">docs.zendframework.com</a><br />
                <a href="https://packages.zendframework.com">packages.zendframework.com</a><br />
                <a href="https://apigility.org">apigility.org</a><br />
              </p>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12 centered">
                <a class="back-to-top" href="#page-top"><i class="fa fa-chevron-circle-up fa-4" aria-hidden="true"></i></a>
            </div>
        </div>

        <div class="spacing"></div>

        <div class="row">
            <div class="col-lg-8">
                <h4>Copyright</h4>
                <div class="hline-w"></div>

                <p>&copy; 2006-2016 by <a href="http://www.zend.com">Zend</a>, a <a href="http://www.roguewave.com/">Rogue Wave Company</a>.</p>
            </div>

            <div class="col-lg-4">
                <h4>Contacts</h4>
                <div class="hline-w"></div>
                <p>
                    <a href="irc://irc.freenode.net/zftalk" class="btn-social btn-outline" alt="IRC" title="IRC"><i class="fa fa-comment"></i></a>
                    <a href="https://github.com/zendframework" class="btn-social btn-outline" alt="Github" title="Github"><i class="fa fa-github"></i></a>
                    <a href="https://twitter.com/zfdevteam" class="btn-social btn-outline" alt="Twitter" title="Twitter"><i class="fa fa-twitter"></i></a>
                </p>
            </div>
        </div>
    </div>
</div>


    <script src="../js/jquery-1.10.2.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>
    <script src="../js/prism-zf.js"></script>

    <script>var base_url = '..';</script>
    <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
    <script src="../js/base.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    <div class="zf-components">
  <div class="zf-components-grid">
    <div class="zf-logo">
      <a href="http://framework.zend.com" data-toggle="tooltip" data-placement="bottom" title="Go to the ZF homepage"><img src="../img/zf-logo-mark.svg" alt="Zend Framework" width="250" /></a>
    </div>

    <div class="component-list"></div>

    <p class="zf-components-rollup"><a href="#">Hide list</a></p>
  </div>
</div>

    <script>
  // Prepare the component list dropdown for display
  $(function () {
    var components = $(".zf-components"),
        componentList = components.find(".component-list"),
        sidebar = $(".bs-sidebar.affix"),
        sidebarInitialPos = sidebar.css("position"),
        hidden,
        componentToggle = $(".component-toggle"),
        navbar = $(".navbar-fixed-top"),
        rollUpLink = $(".zf-components-rollup a");

    // Initial setup on document load
    components.insertBefore(navbar);
    $(".zf-logo a").tooltip();
    componentToggle.tooltip();
    rollUpLink.attr({ href: "#", alt: "Hide component list" });

    // Cast initial sidebar position value
    if (undefined === sidebarInitialPos) {
      sidebarInitialPos = "fixed";
    }

    // Setup onclick events to toggle list
    componentToggle.click(toggleComponentList);
    rollUpLink.click(toggleComponentList);

    // Toggle the component list display
    function toggleComponentList(event) {
      event.preventDefault();

      if (hidden === undefined) {
        // Not loaded yet; load and display.
        loadComponentList();
        return;
      }

      if (hidden) {
        // Hidden; display.
        showComponentList();
        return;
      }

      // Currently visible; hide
      hideComponentList();
    }

    // Show the component list
    function showComponentList() {
      navbar.css({position: "relative"});
      sidebar.css({position: "relative"});
      components
        .css({"margin-top": "-" + components.outerHeight() + "px"})
        .show()
        .animate({"margin-top": 0}, {
          complete: function () {
            componentToggle
              .data("placement", "top")
              .attr("data-original-title", "Hide component list");
            hidden = false;
          },
          queue: false
        });
    }

    // Hide the component list
    function hideComponentList() {
      components.animate({"margin-top": "-" + components.outerHeight() + "px"}, {
        complete: function () {
          navbar.css({position: "fixed"});
          sidebar.css({position: sidebarInitialPos});
          componentToggle
            .data("placement", "bottom")
            .attr("data-original-title", "Show component list");
          components.hide();
          hidden = true;
        },
        queue: false
      });
      sidebar.animate({ top: sidebarInitialTop + "px" }, { queue: false});
    }

    // Inject a component into the componet list DOM.
    function injectComponent(index, component) {
      componentList.append('<div class="component"><h4><a href="' + component.url + '">' + component.name + '</a></h4><p>' + component.description + '</p></div>');
    }

    // Parse the component list, build the DOM, and display it.
    function parseComponentList(components) {
      $.each(components, injectComponent);
      showComponentList();
    }

    // Fetch the component list and display it.
    function loadComponentList () {
      $.ajax({
        url: "//docs.zendframework.com/zf-mkdoc-theme/scripts/zf-component-list.json",
        dataType: "text json",
        success: parseComponentList,
        error: function (e) {
          console.log("Error occurred with XHR call", e);
        }
      });
    }
  });
</script>
    </body>

</html>
