<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="zend-navigation">  
    <link rel="shortcut icon" href="../../img/favicon.ico">

    <title>Sitemap - zend-navigation</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../css/styles-482aa2add1.css">

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <span class="navbar-brand">
                <a class="logo-link" href="https://framework.zend.com/" data-toggle="tooltip" data-placement="bottom" title="Go to the ZF homepage"><img src="../../img/zf-logo-mark.svg" height="28" alt="Zend Framework" /></a>
                <a href="../..">zend-navigation</a>
            </span>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../intro/">Intro</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../quick-start/">Quick Start</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../pages/">Pages</a>
</li>

                        
                            
<li >
    <a href="../../containers/">Containers</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">View Helpers</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../intro/">Intro</a>
</li>

        
            
<li >
    <a href="../breadcrumbs/">Breadcrumbs</a>
</li>

        
            
<li >
    <a href="../links/">Links</a>
</li>

        
            
<li >
    <a href="../menu/">Menu</a>
</li>

        
            
<li class="active">
    <a href="./">Sitemap</a>
</li>

        
            
<li >
    <a href="../navigation/">Navigation Proxy</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" class="component-toggle" data-toggle="tooltip" data-placement="bottom" title="Show component list">
                        <i class="fa fa-book"></i> Components
                    </a>
                </li>

                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li>
                        <a href="https://github.com/zendframework/zend-navigation">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <!-- content:begin -->
    <div id="page-top" class="container docs">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#view-helper-sitemap">View Helper - Sitemap</a></li>
        
            <li><a href="#sitemap-xml-elements">Sitemap XML elements</a></li>
        
            <li><a href="#validation-only-when-enabled">Validation only when enabled</a></li>
        
            <li><a href="#basic-usage">Basic usage</a></li>
        
            <li><a href="#rendering-using-no-acl-role">Rendering using no ACL role</a></li>
        
            <li><a href="#rendering-using-a-maximum-depth">Rendering using a maximum depth</a></li>
        
    
    </ul>

    
    <ul class="pager hidden-print">
      <li class="previous">
        <a rel="prev" href="../menu/"><i class="fa fa-arrow-left"></i> Previous</a>
      </li>
      <li class="next">
        <a rel="next" href="../navigation/">Next <i class="fa fa-arrow-right"></i></a>
      </li>
    </ul>
    
</div></div>
        <div class="col-md-9" role="main">

<ol class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation">
  <li><a href="../..">zend-navigation</a></li>
  
    
      
        <li>Reference</li>
      
    
      
        <li>View Helpers</li>
      
    
  
  <li class="active">Sitemap</li>
</ol>

<h1 id="view-helper-sitemap">View Helper - Sitemap</h1>
<p>The <code>sitemap()</code> helper is used for generating XML sitemaps, as defined by the
<a href="http://www.sitemaps.org/protocol.php">Sitemaps XML format</a>. Read more about
<a href="http://en.wikipedia.org/wiki/Sitemaps">Sitemaps on Wikipedia</a>.</p>
<p>By default, the sitemap helper uses <a href="https://github.com/zendframework/zend-validator">sitemap validators</a>
to validate each element that is rendered. This can be disabled by calling
<code>$helper-&gt;setUseSitemapValidators(false)</code>.</p>
<h3 id="sitemap-xml-elements">Sitemap XML elements</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Element</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>loc</td>
<td>string</td>
<td>Absolute URL to page. An absolute URL will be generated by the helper.</td>
</tr>
<tr>
<td>lastmod</td>
<td>string</td>
<td>The date of last modification of the file, in W3C Datetime format. This time portion can be omitted if desired, and only use YYYY-MM-DD. The helper will try to retrieve the lastmod value from the page's custom property lastmod if it is set in the page. If the value is not a valid date, it is ignored.</td>
</tr>
<tr>
<td>changefreq</td>
<td>string</td>
<td>How frequently the page is likely to change. This value provides general information to search engines and may not correlate exactly to how often they crawl the page. Valid values are: "always", "hourly", "daily", "weekly", "monthly", "yearly", and "never". The helper will try to retrieve the changefreq value from the page's custom property changefreq if it is set in the page. If the value is not valid, it is ignored.</td>
</tr>
<tr>
<td>priority</td>
<td>float</td>
<td>The priority of this URL relative to other URLs on your site. Valid values range from 0.0 to 1.0. The helper will try to retrieve the priority value from the page's custom property priority if it is set in the page. If the value is not valid, it is ignored.</td>
</tr>
</tbody>
</table></div>
<blockquote>
<h3 id="validation-only-when-enabled">Validation only when enabled</h3>
<p>If you disable sitemap validators, the custom properties (see table) are not
validated at all.</p>
</blockquote>
<p>The sitemap helper also supports <a href="http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd">Sitemap XSD Schema</a>
validation of the generated sitemap. This is disabled by default, since it will
require a request to the schema file. It can be enabled with
<code>$helper-&gt;setUseSchemaValidation(true)</code>.</p>
<p>Methods in the sitemap helper:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Method signature</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>getFormatOutput() : bool</code></td>
<td>Retrieve the flag indicating whether or not generated XML should be formatted. Default is <code>false</code>.</td>
</tr>
<tr>
<td><code>setFormatOutput(bool $flag) : self</code></td>
<td>Set the flag indicating whether or not generated XML should be formatted. The flag corresponds to the the <code>formatOutput</code> property of the native <code>DOMDocument</code> class. Read more in the <a href="http://php.net/domdocument">DOMDocument documentation</a>.</td>
</tr>
<tr>
<td><code>getUseXmlDeclaration() : bool</code></td>
<td>Retrieve the flag indicating whether or not to emit the XML declaration when rendering; defaults to <code>true</code>.</td>
</tr>
<tr>
<td><code>setUseXmlDeclaration(bool $flag) : self</code></td>
<td>Set the flag indicating whether or not to emit the XML declaration when rendering.</td>
</tr>
<tr>
<td><code>getUseSitemapValidators() : bool</code></td>
<td>Retrieve the flag indicating whether or not sitemap validators should be used when generating the DOM; default is <code>true</code>.</td>
</tr>
<tr>
<td><code>setUseSitemapValidators(bool $flag) : self</code></td>
<td>Set the flag indicating whether or not sitemap validators should be used when generating the DOM.</td>
</tr>
<tr>
<td><code>getUseSchemaValidation() : bool</code></td>
<td>Retrieve the flag indicating whether or not the helper should use XML schema validation when generating the DOM; default is <code>false</code>.</td>
</tr>
<tr>
<td><code>setUseSchemaValidation(bool $flag) : self</code></td>
<td>Set the flag indicating whether or not the helper should use XML schema validation when generating the DOM.</td>
</tr>
<tr>
<td><code>getServerUrl() : string</code></td>
<td>Retrieve the server URL to prepend to non-absolute URIs via the <code>url()</code> method; if none is present, it will be determined by the helper.</td>
</tr>
<tr>
<td><code>setServerUrl(string $url) : self</code></td>
<td>Set the base server URL to prepend to non-absolute URIs.</td>
</tr>
<tr>
<td><code>url(AbstractPage $page) : string</code></td>
<td>Generate an absolute URL for the provided page.</td>
</tr>
<tr>
<td><code>getDomSitemap(AbstractContainer = null) : DOMDocument</code></td>
<td>Generates a DOMDocument sitemap representation from the given container.</td>
</tr>
</tbody>
</table></div>
<h2 id="basic-usage">Basic usage</h2>
<p>This example shows how to render an <em>XML</em> sitemap based on the setup we did further up.</p>
<pre class="codehilite"><code class="language-php">// In a view script or layout:

// format output
$this-&gt;navigation()
      -&gt;sitemap()
      -&gt;setFormatOutput(true); // default is false

// Other possible methods:
// -&gt;setUseXmlDeclaration(false);             // default is true
// -&gt;setServerUrl('http://my.otherhost.com'); // default is to detect automatically

// print sitemap
echo $this-&gt;navigation()-&gt;sitemap();</code></pre>

<p>Notice how pages that are invisible or pages with ACL roles incompatible with
the view helper are filtered out:</p>
<pre class="codehilite"><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;urlset xmlns=&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/faq&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/editions&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/requirements&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio/customers&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio/support&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about/investors&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news/press&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/archive&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community/account&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://forums.example.com/&lt;/loc&gt;
  &lt;/url&gt;
&lt;/urlset&gt;</code></pre>

<h2 id="rendering-using-no-acl-role">Rendering using no ACL role</h2>
<p>Render the sitemap using no ACL role (should filter out <code>/community/account</code>):</p>
<pre class="codehilite"><code class="language-php">echo $this-&gt;navigation()-&gt;sitemap()
    -&gt;setFormatOutput(true)
    -&gt;setRole();</code></pre>

<pre class="codehilite"><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;urlset xmlns=&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/faq&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/editions&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/requirements&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio/customers&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio/support&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about/investors&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news/press&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/archive&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://forums.example.com/&lt;/loc&gt;
  &lt;/url&gt;
&lt;/urlset&gt;</code></pre>

<h2 id="rendering-using-a-maximum-depth">Rendering using a maximum depth</h2>
<p>Render the sitemap using a maximum depth of 1.</p>
<pre class="codehilite"><code class="language-php">echo $this-&gt;navigation()-&gt;sitemap()
    -&gt;setFormatOutput(true)
    -&gt;setMaxDepth(1);</code></pre>

<pre class="codehilite"><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;urlset xmlns=&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about/investors&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community/account&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://forums.example.com/&lt;/loc&gt;
  &lt;/url&gt;
&lt;/urlset&gt;</code></pre>

<blockquote>
<h3 id="utf-8-encoding-used-by-default">UTF-8 encoding used by default</h3>
<p>By default, zend-view uses UTF-8 as its default encoding.  If you want to use
another encoding with <code>Sitemap</code>, you will have do three things:</p>
<ol>
<li>Create a custom renderer and implement a <code>getEncoding()</code> method.</li>
<li>Create a custom rendering strategy that will return an instance of your custom renderer.</li>
<li>Attach the custom strategy in the <code>ViewEvent</code>.</li>
</ol>
<p>See the <a href="https://github.com/zendframework/zend-view">example from the HeadStyle documentation</a>
to see how you can achieve this.</p>
</blockquote>

<hr />


<nav>
  <ul class="pager hidden-print">
    <li class="previous">
      <a rel="prev" href="../menu/"><i class="fa fa-arrow-left"></i> Previous</a>
    </li>
    <li class="next">
      <a rel="next" href="../navigation/">Next <i class="fa fa-arrow-right"></i></a>
    </li>
  </ul>
</nav>
</div>
        
    </div>
    <!-- content:end -->

    <div id="footerwrap">
    <div class="container">
        <div class="row site-map">
            <div class="col-lg-3">
              <p>
                <strong>Zend Framework</strong><br />
                <a href="https://framework.zend.com/">framework.zend.com</a><br />
                <a href="https://docs.zendframework.com">docs.zendframework.com</a><br />
                <a href="https://packages.zendframework.com">packages.zendframework.com</a><br />
                <a href="https://apigility.org">apigility.org</a><br />
              </p>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12 centered">
                <a class="back-to-top" href="#page-top"><i class="fa fa-chevron-circle-up fa-4" aria-hidden="true"></i></a>
            </div>
        </div>

        <div class="spacing"></div>

        <div class="row">
            <div class="col-lg-8">
                <h4>Copyright</h4>
                <div class="hline-w"></div>

                <p>&copy; 2006-2017 by <a href="https://www.zend.com/">Zend</a>, a <a href="https://www.roguewave.com/">Rogue Wave Company</a>.</p>
            </div>

            <div class="col-lg-4">
                <h4>Contacts</h4>
                <div class="hline-w"></div>
                <p>
                    <a href="https://discourse.zendframework.com" class="btn-social btn-outline" alt="Forum" title="Forum"><i class="fa fa-comments"></i></a>
                    <a href="https://zendframework-slack.herokuapp.com" class="btn-social btn-outline" alt="Slack" title="Slack"><i class="fa fa-slack"></i></a>
                    <a href="https://github.com/zendframework" class="btn-social btn-outline" alt="Github" title="Github"><i class="fa fa-github"></i></a>
                    <a href="https://twitter.com/zfdevteam" class="btn-social btn-outline" alt="Twitter" title="Twitter"><i class="fa fa-twitter"></i></a>
                </p>
            </div>
        </div>
    </div>
</div>

    <script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
    <script>var base_url = '../..';</script>
    <script src="../../js/scripts-019f7ac1f7.js"></script>
    <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    <div class="zf-components">
  <div class="zf-components-grid">
    <div class="zf-logo">
      <a href="https://framework.zend.com" data-toggle="tooltip" data-placement="bottom" title="Go to the ZF homepage"><img src="../../img/zf-logo-mark.svg" alt="Zend Framework" width="250" /></a>
    </div>

    <div class="component-list"></div>

    <p class="zf-components-rollup"><a href="#">Hide list</a></p>
  </div>
</div>

</body>

</html>
