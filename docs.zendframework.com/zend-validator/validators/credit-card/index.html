<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="zend-validator">  
    <link rel="shortcut icon" href="../../img/favicon.ico">

    <title>CreditCard - zend-validator</title>

    <link rel="stylesheet" href="//cdn.jsdelivr.net/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha256-7s5uDGW3AHqw6xtJmNNtr+OBRJUlgkNJEo78P4b0yRw=" crossorigin="anonymous">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/fontawesome/4.6.3/css/font-awesome.min.css" integrity="sha256-AIodEDkC8V/bHBkfyxzolUMw57jeQ9CauwhVW6YJ9CA=" crossorigin="anonymous">
    <link rel="stylesheet" href="../../css/styles-482aa2add1.css">

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <span class="navbar-brand">
              <a class="logo-link" href="http://framework.zend.com" data-toggle="tooltip" data-placement="bottom" title="Zend Framework"><img src="../../img/zf-logo-mark.svg" height="28" alt="Zend Framework" /></a>
              <a href="../..">zend-validator</a>
            </span>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../intro/">Intro</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../validator-chains/">Validator Chains</a>
</li>

                        
                            
<li >
    <a href="../../writing-validators/">Writing Validators</a>
</li>

                        
                            
<li >
    <a href="../../messages/">Validation Messages</a>
</li>

                        
                            
<li >
    <a href="../../set/">Standard Validation Classes</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Validators</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../barcode/">Barcode</a>
</li>

        
            
<li >
    <a href="../between/">Between</a>
</li>

        
            
<li >
    <a href="../callback/">Callback</a>
</li>

        
            
<li class="active">
    <a href="./">CreditCard</a>
</li>

        
            
<li >
    <a href="../date/">Date</a>
</li>

        
            
<li >
    <a href="../db/">Db\RecordExists and Db\NoRecordExists</a>
</li>

        
            
<li >
    <a href="../digits/">Digits</a>
</li>

        
            
<li >
    <a href="../email-address/">EmailAddress</a>
</li>

        
            
<li >
    <a href="../greater-than/">GreaterThan</a>
</li>

        
            
<li >
    <a href="../hex/">Hex</a>
</li>

        
            
<li >
    <a href="../hostname/">Hostname</a>
</li>

        
            
<li >
    <a href="../iban/">Iban</a>
</li>

        
            
<li >
    <a href="../identical/">Identical</a>
</li>

        
            
<li >
    <a href="../in-array/">InArray</a>
</li>

        
            
<li >
    <a href="../ip/">Ip</a>
</li>

        
            
<li >
    <a href="../isbn/">Isbn</a>
</li>

        
            
<li >
    <a href="../is-countable/">IsCountable</a>
</li>

        
            
<li >
    <a href="../isinstanceof/">IsInstanceOf</a>
</li>

        
            
<li >
    <a href="../less-than/">LessThan</a>
</li>

        
            
<li >
    <a href="../not-empty/">NotEmpty</a>
</li>

        
            
<li >
    <a href="../regex/">Regex</a>
</li>

        
            
<li >
    <a href="../sitemap/">Sitemap</a>
</li>

        
            
<li >
    <a href="../step/">Step</a>
</li>

        
            
<li >
    <a href="../string-length/">StringLength</a>
</li>

        
            
<li >
    <a href="../timezone/">Timezone</a>
</li>

        
            
<li >
    <a href="../uri/">Uri</a>
</li>

        
            
<li >
    <a href="../uuid/">Uuid</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">File Validators</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../file/intro/">Intro</a>
</li>

        
            
<li >
    <a href="../file/count/">Count</a>
</li>

        
            
<li >
    <a href="../file/crc32/">Crc32</a>
</li>

        
            
<li >
    <a href="../file/exclude-extension/">ExcludeExtension</a>
</li>

        
            
<li >
    <a href="../file/exclude-mime-type/">ExcludeMimeType</a>
</li>

        
            
<li >
    <a href="../file/exists/">Exists</a>
</li>

        
            
<li >
    <a href="../file/extension/">Extension</a>
</li>

        
            
<li >
    <a href="../file/files-size/">FilesSize</a>
</li>

        
            
<li >
    <a href="../file/hash/">Hash</a>
</li>

        
            
<li >
    <a href="../file/image-size/">ImageSize</a>
</li>

        
            
<li >
    <a href="../file/is-compressed/">IsCompressed</a>
</li>

        
            
<li >
    <a href="../file/is-image/">IsImage</a>
</li>

        
            
<li >
    <a href="../file/md5/">Md5</a>
</li>

        
            
<li >
    <a href="../file/mime-type/">MimeType</a>
</li>

        
            
<li >
    <a href="../file/not-exists/">NotExists</a>
</li>

        
            
<li >
    <a href="../file/sha1/">Sha1</a>
</li>

        
            
<li >
    <a href="../file/size/">Size</a>
</li>

        
            
<li >
    <a href="../file/upload/">Upload</a>
</li>

        
            
<li >
    <a href="../file/upload-file/">UploadFile</a>
</li>

        
            
<li >
    <a href="../file/word-count/">WordCount</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" class="component-toggle" data-toggle="tooltip" data-placement="bottom" title="Show component list">
                        <i class="fa fa-book"></i> Components
                    </a>
                </li>

                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li>
                        <a href="https://github.com/zendframework/zend-validator">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <!-- content:begin -->
    <div id="page-top" class="container docs">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#creditcard-validator">CreditCard Validator</a></li>
        
            <li><a href="#invalid-institutes">Invalid institutes</a></li>
        
            <li><a href="#supported-options">Supported options</a></li>
        
            <li><a href="#basic-usage">Basic usage</a></li>
        
            <li><a href="#accepting-only-specific-credit-cards">Accepting only specific credit cards</a></li>
        
            <li><a href="#validation-using-apis">Validation using APIs</a></li>
        
    
    </ul>

    
    <ul class="pager hidden-print">
      <li class="previous">
        <a rel="prev" href="../callback/"><i class="fa fa-arrow-left"></i> Previous</a>
      </li>
      <li class="next">
        <a rel="next" href="../date/">Next <i class="fa fa-arrow-right"></i></a>
      </li>
    </ul>
    
</div></div>
        <div class="col-md-9" role="main">

<ol class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation">
  <li><a href="../..">zend-validator</a></li>
  
    
      
        <li>Reference</li>
      
    
      
        <li>Validators</li>
      
    
  
  <li class="active">CreditCard</li>
</ol>

<h1 id="creditcard-validator">CreditCard Validator</h1>
<p><code>Zend\Validator\CreditCard</code> allows you to validate if a given value could be a
credit card number.</p>
<p>A credit card contains several items of metadata, including a hologram, account
number, logo, expiration date, security code, and the card holder name. The
algorithms for verifying the combination of metadata are only known to the
issuing company, and should be verified with them for purposes of payment.
However, it's often useful to know whether or not a given number actually falls
within the ranges of possible numbers <strong>prior</strong> to performing such verification,
and, as such, <code>Zend\Validator\CreditCard</code> verifies that the credit card number
provided is well-formed.</p>
<p>For those cases where you have a service that can perform comprehensive
verification, <code>Zend\Validator\CreditCard</code> also provides the ability to attach a
service callback to trigger once the credit card number has been deemed valid;
this callback will then be triggered, and its return value will determine
overall validity.</p>
<p>The following issuing institutes are accepted:</p>
<ul>
<li>American Express</li>
<li>China UnionPay</li>
<li>Diners Club Card Blanche</li>
<li>Diners Club International</li>
<li>Diners Club US and Canada</li>
<li>Discover Card</li>
<li>JCB</li>
<li>Laser</li>
<li>Maestro</li>
<li>MasterCard</li>
<li>Solo</li>
<li>Visa</li>
<li>Visa Electron</li>
</ul>
<blockquote>
<h3 id="invalid-institutes">Invalid institutes</h3>
<p>The institutes <strong>Bankcard</strong> and <strong>Diners Club enRoute</strong> no longer exist, and
are treated as invalid.</p>
<p><strong>Switch</strong> has been rebranded to <strong>Visa</strong> and is therefore also treated as
invalid.</p>
</blockquote>
<h2 id="supported-options">Supported options</h2>
<p>The following options are supported for <code>Zend\Validator\CreditCard</code>:</p>
<ul>
<li><code>service</code>: A callback to an online service which will additionally be used for
  the validation.</li>
<li><code>type</code>: The type of credit card which will be validated. See the below list of
  institutes for details.</li>
</ul>
<h2 id="basic-usage">Basic usage</h2>
<p>There are several credit card institutes which can be validated by
<code>Zend\Validator\CreditCard</code>. Per default, all known institutes will be accepted.
See the following example:</p>
<pre class="codehilite"><code class="language-php">$valid = new Zend\Validator\CreditCard();
if ($valid-&gt;isValid($input)) {
    // input appears to be valid
} else {
    // input is invalid
}</code></pre>

<p>The above example would validate against all known credit card institutes.</p>
<h2 id="accepting-only-specific-credit-cards">Accepting only specific credit cards</h2>
<p>Sometimes it is necessary to accept only specific credit card institutes instead
of all; e.g., when you have a webshop which accepts only Visa and American
Express cards. <code>Zend\Validator\CreditCard</code> allows you to do exactly this by
limiting it to exactly these institutes.</p>
<p>To use a limitation you can either provide specific institutes at initiation, or
afterwards by using <code>setType()</code>. Each can take several arguments.</p>
<p>You can provide a single institute:</p>
<pre class="codehilite"><code class="language-php">use Zend\Validator\CreditCard;

$valid = new CreditCard(CreditCard::AMERICAN_EXPRESS);</code></pre>

<p>When you want to allow multiple institutes, then you can provide them as array:</p>
<pre class="codehilite"><code class="language-php">use Zend\Validator\CreditCard;

$valid = new CreditCard([
    CreditCard::AMERICAN_EXPRESS,
    CreditCard::VISA
]);</code></pre>

<p>And, as with all validators, you can also pass an associative array of options
or an instance of <code>Traversable</code>. In this case you have to provide the institutes
with the <code>type</code> array key as demostrated here:</p>
<pre class="codehilite"><code class="language-php">use Zend\Validator\CreditCard;

$valid = new CreditCard([
    'type' =&gt; [CreditCard::AMERICAN_EXPRESS]
]);</code></pre>

<p>You can also manipulate institutes after instantiation by using the methods
<code>setType()</code>, <code>addType()</code>, and <code>getType()</code>.</p>
<pre class="codehilite"><code class="language-php">use Zend\Validator\CreditCard;

$valid = new CreditCard();
$valid-&gt;setType([
    CreditCard::AMERICAN_EXPRESS,
    CreditCard::VISA
]);</code></pre>

<blockquote>
<h3 id="default-institute">Default institute</h3>
<p>When no institute is given at initiation then <code>ALL</code> will be used, which sets
all institutes at once.</p>
<p>In this case the usage of <code>addType()</code> is useless because all institutes are
already added.</p>
</blockquote>
<h2 id="validation-using-apis">Validation using APIs</h2>
<p>As said before <code>Zend\Validator\CreditCard</code> will only validate the credit card
number. Fortunately, some institutes provide online APIs which can validate a
credit card number by using algorithms which are not available to the public.
Most of these services are paid services. Therefore, this check is deactivated
per default.</p>
<p>When you have access to such an API, then you can use it as an add on for
<code>Zend\Validator\CreditCard</code> and increase the security of the validation.</p>
<p>To do so, provide a callback to invoke when generic validation has passed. This
prevents the API from being called for invalid numbers, which increases the
performance of the application.</p>
<p><code>setService()</code> sets a new service, and <code>getService()</code> returns the set service.
As a configuration option, you can give the array key <code>service</code> at instantiatio.
For details about possible options, read the
<a href="../callback/">Callback validator documentation</a>.</p>
<pre class="codehilite"><code class="language-php">use Zend\Validator\CreditCard;

// Your service class
class CcService
{
    public function checkOnline($cardnumber, $types)
    {
        // some online validation
    }
}

// The validation
$service = new CcService();
$valid   = new CreditCard(CreditCard::VISA);
$valid-&gt;setService([$service, 'checkOnline']);</code></pre>

<p>The callback method will be called with the credit card number as the first
parameter, and the accepted types as the second parameter.</p>

<hr />


<nav>
  <ul class="pager hidden-print">
    <li class="previous">
      <a rel="prev" href="../callback/"><i class="fa fa-arrow-left"></i> Previous</a>
    </li>
    <li class="next">
      <a rel="next" href="../date/">Next <i class="fa fa-arrow-right"></i></a>
    </li>
  </ul>
</nav>
</div>
        
    </div>
    <!-- content:end -->

    <div id="footerwrap">
    <div class="container">
        <div class="row site-map">
            <div class="col-lg-3">
              <p>
                <strong>Zend Framework</strong><br />
                <a href="http://framework.zend.com/">framework.zend.com</a><br />
                <a href="https://docs.zendframework.com">docs.zendframework.com</a><br />
                <a href="https://packages.zendframework.com">packages.zendframework.com</a><br />
                <a href="https://apigility.org">apigility.org</a><br />
              </p>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12 centered">
                <a class="back-to-top" href="#page-top"><i class="fa fa-chevron-circle-up fa-4" aria-hidden="true"></i></a>
            </div>
        </div>

        <div class="spacing"></div>

        <div class="row">
            <div class="col-lg-8">
                <h4>Copyright</h4>
                <div class="hline-w"></div>

                <p>&copy; 2006-2016 by <a href="http://www.zend.com">Zend</a>, a <a href="http://www.roguewave.com/">Rogue Wave Company</a>.</p>
            </div>

            <div class="col-lg-4">
                <h4>Contacts</h4>
                <div class="hline-w"></div>
                <p>
                    <a href="irc://irc.freenode.net/zftalk" class="btn-social btn-outline" alt="IRC" title="IRC"><i class="fa fa-comment"></i></a>
                    <a href="https://github.com/zendframework" class="btn-social btn-outline" alt="Github" title="Github"><i class="fa fa-github"></i></a>
                    <a href="https://twitter.com/zfdevteam" class="btn-social btn-outline" alt="Twitter" title="Twitter"><i class="fa fa-twitter"></i></a>
                </p>
            </div>
        </div>
    </div>
</div>


    <script src="//cdn.jsdelivr.net/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <script src="//cdn.jsdelivr.net/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha256-KXn5puMvxCw+dAYznun+drMdG1IFl3agK0p/pqT9KAo=" crossorigin="anonymous"></script>
    <script>var base_url = '../..';</script>
    <script src="../../js/scripts-8b95ab2fc3.js"></script>
    <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    <div class="zf-components">
  <div class="zf-components-grid">
    <div class="zf-logo">
      <a href="http://framework.zend.com" data-toggle="tooltip" data-placement="bottom" title="Go to the ZF homepage"><img src="../../img/zf-logo-mark.svg" alt="Zend Framework" width="250" /></a>
    </div>

    <div class="component-list"></div>

    <p class="zf-components-rollup"><a href="#">Hide list</a></p>
  </div>
</div>

</body>

</html>
