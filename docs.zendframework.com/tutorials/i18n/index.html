<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <link rel="shortcut icon" href="../img/favicon.ico">

    <title>Internationalization - tutorials</title>

    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href="//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Libre+Baskerville:400,400italic,700&subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/zf-web.css" rel="stylesheet">
    <link href="../css/zf.css" rel="stylesheet">
    <link href="../css/prism-zf.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <span class="navbar-brand">
              <a class="logo-link" href="http://framework.zend.com" data-toggle="tooltip" data-placement="bottom" title="Zend Framework"><img src="../img/zf-logo-mark.svg" height="28" alt="Zend Framework" /></a>
              <a href="..">tutorials</a>
            </span>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Home</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">MVC Tutorials <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Getting Started with Zend Framework</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../getting-started/overview/">Overview</a>
</li>

        
            
<li >
    <a href="../getting-started/skeleton-application/">The Skeleton Application</a>
</li>

        
            
<li >
    <a href="../getting-started/modules/">Modules</a>
</li>

        
            
<li >
    <a href="../getting-started/routing-and-controllers/">Routing and Controllers</a>
</li>

        
            
<li >
    <a href="../getting-started/database-and-models/">Database and Models</a>
</li>

        
            
<li >
    <a href="../getting-started/forms-and-actions/">Forms and Actions</a>
</li>

        
            
<li >
    <a href="../getting-started/conclusion/">Conclusion</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../unit-testing/">Unit Testing A zend-mvc Application</a>
</li>

                        
                            
<li >
    <a href="../navigation/">Adding zend-navigation to the Album Module</a>
</li>

                        
                            
<li >
    <a href="../pagination/">Adding zend-paginator to the Album Module</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">In-Depth Tutorial</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../in-depth-guide/first-module/">Introducing the Blog Module</a>
</li>

        
            
<li >
    <a href="../in-depth-guide/models-and-servicemanager/">Models and the ServiceManager</a>
</li>

        
            
<li >
    <a href="../in-depth-guide/preparing-databases/">Preparing for Different Databases</a>
</li>

        
            
<li >
    <a href="../in-depth-guide/zend-db-sql-zend-hydrator/">SQL Abstraction and Object Hydration</a>
</li>

        
            
<li >
    <a href="../in-depth-guide/understanding-routing/">Understanding the Router</a>
</li>

        
            
<li >
    <a href="../in-depth-guide/zend-form-zend-form-fieldset/">Making Use of Forms and Fieldsets</a>
</li>

        
            
<li >
    <a href="../in-depth-guide/data-binding/">Editing and Deleting Data</a>
</li>

        
            
<li >
    <a href="../in-depth-guide/review/">Reviewing the Blog Module</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../advanced-config/">Advanced Configuration</a>
</li>

                        
                            
<li class="active">
    <a href="./">Internationalization</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Component Tutorials <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../db-adapter/">Setting Up A Database Adapter</a>
</li>

                        
                            
<li >
    <a href="../event-manager/">Using the EventManager</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Migration <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">To Version 3</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../migration/to-v3/overview/">Overview</a>
</li>

        
            
<li >
    <a href="../migration/to-v3/components/">Components</a>
</li>

        
            
<li >
    <a href="../migration/to-v3/application/">Applications</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" class="component-toggle" data-toggle="tooltip" data-placement="bottom" title="Show component list">
                        <i class="fa fa-book"></i> Components
                    </a>
                </li>

                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li>
                        <a href="https://github.com/zendframework/tutorials">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <!-- content:begin -->
    <div id="page-top" class="container docs">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#internationalization">Internationalization</a></li>
        
            <li><a href="#installation">Installation</a></li>
        
            <li><a href="#creating-translations">Creating translations</a></li>
        
            <li><a href="#translating-strings-in-templates">Translating strings in templates</a></li>
        
            <li><a href="#translating-route-segments">Translating route segments</a></li>
        
    
    </ul>

    
    <ul class="pager hidden-print">
      <li class="previous">
        <a rel="prev" href="../advanced-config/"><i class="fa fa-arrow-left"></i> Previous</a>
      </li>
      <li class="next">
        <a rel="next" href="../db-adapter/">Next <i class="fa fa-arrow-right"></i></a>
      </li>
    </ul>
    
</div></div>
        <div class="col-md-9" role="main">

<ol class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation">
  <li><a href="..">tutorials</a> &raquo;</li>
  
    
      
        <li>MVC Tutorials &raquo;</li>
      
    
  
  <li class="active">Internationalization</li>
</ol>

<h1 id="internationalization">Internationalization</h1>
<p>If you are building a site for an international audience, you will likely want
to provide localized versions of common strings on your website, including menu
items, form labels, button labels, and more. Additionally, some websites require
that route path segments be localized.</p>
<p>Zend Framework provides internationalization (i18n) tools via the
<a href="https://zendframework.github.io/zend-i18n/">zend-i18n</a> component, and
integration with zend-mvc via the <a href="https://zendframework.github.io/zend-mvc-i18n/">zend-mvc-i18n</a>
component.</p>
<h2 id="installation">Installation</h2>
<p>Install zend-mvc-i18n via Composer:</p>
<pre class="codehilite"><code class="language-bash linenums">$ composer require zendframework/zend-mvc-i18n</code></pre>

<p>Assuming you are using <a href="https://zendframework.github.io/zend-component-installer">zend-component-installer</a>
(which is installed by default with the skeleton application), this will prompt
you to install the component as a module in your application; make sure you
select either <code>application.config.php</code> or <code>modules.config.php</code> for the location.</p>
<p>Once installed, this component exposes several services, including:</p>
<ul>
<li><code>MvcTranslator</code>, which implements the zend-i18n <code>TranslatorInterface</code>, as well
  as the version specific to zend-validator, providing an instance that can be
  used for all application contexts.</li>
<li>A "translator aware" router.</li>
</ul>
<p>By default, until you configure translations, installation has no practical
effect. So the next step is creating translations to use in your application.</p>
<h2 id="creating-translations">Creating translations</h2>
<p>The <a href="http://zendframework.github.io/zend-i18n/translation/">zend-i18n Translation chapter</a>
covers the details of adding translations to your application. You can use PHP
arrays, INI files, or the popular gettext package (which allows you to use
industry standard tools such as <a href="http://www.poedit.net/download.php">poedit</a> to
edit translations).</p>
<p><img alt="poedit" src="../images/i18n.poedit.png" class="img-responsive"/></p>
<p>Once you have some translation sources, you will need to put them somewhere your
application can access them. Options include:</p>
<ul>
<li>In a subdirectory of the module that defines and/or consumes the translation
  strings. As an example, <code>module/Application/language/</code>.</li>
<li>In your application data directory; e.g., <code>data/language/</code>.</li>
</ul>
<p>Make sure you follow the guidelines from the zend-i18n documentation with
regards to naming your files. Additionally, you may want to further segregate
any such directory by text domain.</p>
<p>From here, you need to configure the translator to use your files. This requires
adding configuration in either your module or application configuration files
that provides:</p>
<ul>
<li>The default locale if none is provided.</li>
<li>Translation file patterns, which include:</li>
<li>the translation source type (e.g., <code>gettext</code>, <code>phparray</code>, <code>ini</code>)</li>
<li>the base directory in which they are stored</li>
<li>a file pattern for identifying the files to use</li>
</ul>
<p>As examples:</p>
<pre class="codehilite"><code class="language-php linenums">// in a module's module.config.php:
'translator' =&gt; [
    'locale' =&gt; 'en_US',
    'translation_file_patterns' =&gt; [
        [
            'type'     =&gt; 'gettext',
            'base_dir' =&gt; __DIR__ . '/../language',
            'pattern'  =&gt; '%s.mo',
        ],
    ],
],

// or in config/autoload/global.php:
'translator' =&gt; [
    'locale' =&gt; 'en_US',
    'translation_file_patterns' =&gt; [
        [
            'type'     =&gt; 'gettext',
            'base_dir' =&gt; getcwd() .  '/data/language',
            'pattern'  =&gt; '%s.mo',
        ],
    ],
],</code></pre>

<p>Once the above configuration is in place, the translator will be active in your
application, allowing you to use it.</p>
<h2 id="translating-strings-in-templates">Translating strings in templates</h2>
<p>Once you have defined some strings to translate, and configured the application
to use them, you can translate them in your application. The <a href="https://zendframework.github.io/zend-i18n/view-helpers/#translate-helper"><code>translate()</code></a>
and <a href="https://zendframework.github.io/zend-i18n/view-helpers/#translateplural-helper"><code>translatePlural()</code></a>
view helpers allow you to provide translations within your view scripts.</p>
<p>As an example, you might want to translate the string "All rights reserved" in
your footer. You could do the following in your layout script:</p>
<pre class="codehilite"><code class="language-php linenums">&lt;p&gt;&amp;copy; 2016 by Examples Ltd. &lt;?= $this-&gt;translate('All rights reserved') ?&gt;&lt;/p&gt;</code></pre>

<h2 id="translating-route-segments">Translating route segments</h2>
<p>In order to enable route translation, you need to do two things:</p>
<ul>
<li>Tell the router to use the translation-aware route class.</li>
<li>Optionally, tell it which text domain to use (if not using the default text domain).</li>
</ul>
<p>To tell the application to use the translation-aware route class, we can update
our routing configuration. Underneath the top-level <code>router</code> key, we'll add the
<code>router_class</code> key:</p>
<pre class="codehilite"><code class="language-php linenums">// In a module.config.php file, or config/autoload/global.php:
'router' =&gt; [
    'router_class' =&gt; Zend\Mvc\I18n\Router\TranslatorAwareTreeRouteStack::class,
    'routes' =&gt; [
        /* ... */
    ],
],</code></pre>

<p>If you want to use an alternate text domain, you can do so via the
<code>translator_text_domain</code> key, also directly below the <code>router</code> key:</p>
<pre class="codehilite"><code class="language-php linenums">// In a module.config.php file, or config/autoload/global.php:
'router' =&gt; [
    'router_class' =&gt; Zend\Mvc\I18n\Router\TranslatorAwareTreeRouteStack::class,
    'translator_text_domain' =&gt; 'router',
    'routes' =&gt; [
        /* ... */
    ],
],</code></pre>

<p>Now that the router is aware of translations, we can use translatable strings in
our routes. To do so, surround the string capable of translation with braces
(<code>{}</code>). As an example:</p>
<pre class="codehilite"><code class="language-php linenums">'route' =&gt; '/{login}',</code></pre>

<p>specifies the word "login" as translatable.</p>

<hr />


<nav>
  <ul class="pager hidden-print">
    <li class="previous">
      <a rel="prev" href="../advanced-config/"><i class="fa fa-arrow-left"></i> Previous</a>
    </li>
    <li class="next">
      <a rel="next" href="../db-adapter/">Next <i class="fa fa-arrow-right"></i></a>
    </li>
  </ul>
</nav>
</div>
        
    </div>
    <!-- content:end -->

    <div id="footerwrap">
    <div class="container">
        <div class="row site-map">
            <div class="col-lg-3">
              <p>
                <strong>Zend Framework</strong><br />
                <a href="http://framework.zend.com/">framework.zend.com</a><br />
                <a href="https://docs.zendframework.com">docs.zendframework.com</a><br />
                <a href="https://packages.zendframework.com">packages.zendframework.com</a><br />
                <a href="https://apigility.org">apigility.org</a><br />
              </p>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12 centered">
                <a class="back-to-top" href="#page-top"><i class="fa fa-chevron-circle-up fa-4" aria-hidden="true"></i></a>
            </div>
        </div>

        <div class="spacing"></div>

        <div class="row">
            <div class="col-lg-8">
                <h4>Copyright</h4>
                <div class="hline-w"></div>

                <p>&copy; 2006-2016 by <a href="http://www.zend.com">Zend</a>, a <a href="http://www.roguewave.com/">Rogue Wave Company</a>.</p>
            </div>

            <div class="col-lg-4">
                <h4>Contacts</h4>
                <div class="hline-w"></div>
                <p>
                    <a href="irc://irc.freenode.net/zftalk" class="btn-social btn-outline" alt="IRC" title="IRC"><i class="fa fa-comment"></i></a>
                    <a href="https://github.com/zendframework" class="btn-social btn-outline" alt="Github" title="Github"><i class="fa fa-github"></i></a>
                    <a href="https://twitter.com/zfdevteam" class="btn-social btn-outline" alt="Twitter" title="Twitter"><i class="fa fa-twitter"></i></a>
                </p>
            </div>
        </div>
    </div>
</div>


    <script src="../js/jquery-1.10.2.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>
    <script src="../js/prism-zf.js"></script>

    <script>var base_url = '..';</script>
    <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
    <script src="../js/base.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    <div class="zf-components">
  <div class="zf-components-grid">
    <div class="zf-logo">
      <a href="http://framework.zend.com" data-toggle="tooltip" data-placement="bottom" title="Go to the ZF homepage"><img src="../img/zf-logo-mark.svg" alt="Zend Framework" width="250" /></a>
    </div>

    <div class="component-list"></div>

    <p class="zf-components-rollup"><a href="#">Hide list</a></p>
  </div>
</div>

    <script>
  // Prepare the component list dropdown for display
  $(function () {
    var components = $(".zf-components"),
        componentList = components.find(".component-list"),
        sidebar = $(".bs-sidebar.affix"),
        sidebarInitialPos = sidebar.css("position"),
        hidden,
        componentToggle = $(".component-toggle"),
        navbar = $(".navbar-fixed-top"),
        rollUpLink = $(".zf-components-rollup a");

    // Initial setup on document load
    components.insertBefore(navbar);
    $(".zf-logo a").tooltip();
    componentToggle.tooltip();
    rollUpLink.attr({ href: "#", alt: "Hide component list" });

    // Cast initial sidebar position value
    if (undefined === sidebarInitialPos) {
      sidebarInitialPos = "fixed";
    }

    // Setup onclick events to toggle list
    componentToggle.click(toggleComponentList);
    rollUpLink.click(toggleComponentList);

    // Toggle the component list display
    function toggleComponentList(event) {
      event.preventDefault();

      if (hidden === undefined) {
        // Not loaded yet; load and display.
        loadComponentList();
        return;
      }

      if (hidden) {
        // Hidden; display.
        showComponentList();
        return;
      }

      // Currently visible; hide
      hideComponentList();
    }

    // Show the component list
    function showComponentList() {
      navbar.css({position: "relative"});
      sidebar.css({position: "relative"});
      components
        .css({"margin-top": "-" + components.outerHeight() + "px"})
        .show()
        .animate({"margin-top": 0}, {
          complete: function () {
            componentToggle
              .data("placement", "top")
              .attr("data-original-title", "Hide component list");
            hidden = false;
          },
          queue: false
        });
    }

    // Hide the component list
    function hideComponentList() {
      components.animate({"margin-top": "-" + components.outerHeight() + "px"}, {
        complete: function () {
          navbar.css({position: "fixed"});
          sidebar.css({position: sidebarInitialPos});
          componentToggle
            .data("placement", "bottom")
            .attr("data-original-title", "Show component list");
          components.hide();
          hidden = true;
        },
        queue: false
      });
      sidebar.animate({ top: sidebarInitialTop + "px" }, { queue: false});
    }

    // Inject a component into the componet list DOM.
    function injectComponent(index, component) {
      componentList.append('<div class="component"><h4><a href="' + component.url + '">' + component.name + '</a></h4><p>' + component.description + '</p></div>');
    }

    // Parse the component list, build the DOM, and display it.
    function parseComponentList(components) {
      $.each(components, injectComponent);
      showComponentList();
    }

    // Fetch the component list and display it.
    function loadComponentList () {
      $.ajax({
        url: "//docs.zendframework.com/zf-mkdoc-theme/scripts/zf-component-list.json",
        dataType: "text json",
        success: parseComponentList,
        error: function (e) {
          console.log("Error occurred with XHR call", e);
        }
      });
    }
  });
</script>
    </body>

</html>
